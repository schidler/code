<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>My Project: dbbase.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">My Project
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.2 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Data Structures</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Macros</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">dbbase.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>数据库接口实现  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="dbbase_8h_source.html">dbbase.h</a>&quot;</code><br/>
</div><div class="textblock"><div class="dynheader">
Include dependency graph for dbbase.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp__incl.png" border="0" usemap="#dbbase_8cpp" alt=""/></div>
<map name="dbbase_8cpp" id="dbbase_8cpp">
<area shape="rect" id="node3" href="dbbase_8h.html" title="mysql 数据库接口实现" alt="" coords="200,83,275,112"/><area shape="rect" id="node15" href="base_8h.html" title="常见类型，调试开关定义 @" alt="" coords="434,160,495,189"/></map>
</div>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a55f5cb081a0fc3774070718f283746d6"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a55f5cb081a0fc3774070718f283746d6">IsNativeRtu</a> (<a class="el" href="base_8h.html#af84840501dec18061d18a68c162a8fa2">Uint8</a> type)</td></tr>
<tr class="memdesc:a55f5cb081a0fc3774070718f283746d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">IsNativeRtu 查看某设备是否是常规设备  <a href="#a55f5cb081a0fc3774070718f283746d6"></a><br/></td></tr>
<tr class="separator:a55f5cb081a0fc3774070718f283746d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae130c9ff11734f9b283c749b1c682659"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#ae130c9ff11734f9b283c749b1c682659">IsSafetyRtu</a> (<a class="el" href="base_8h.html#af84840501dec18061d18a68c162a8fa2">Uint8</a> type)</td></tr>
<tr class="memdesc:ae130c9ff11734f9b283c749b1c682659"><td class="mdescLeft">&#160;</td><td class="mdescRight">IsSafetyRtu 查看某设备是否是安防设备  <a href="#ae130c9ff11734f9b283c749b1c682659"></a><br/></td></tr>
<tr class="separator:ae130c9ff11734f9b283c749b1c682659"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affefb171c935f2ae5832d0ca8091798f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#affefb171c935f2ae5832d0ca8091798f">init_mysql</a> (<a class="el" href="structMysqlConInfo.html">MysqlConInfo</a> *info)</td></tr>
<tr class="memdesc:affefb171c935f2ae5832d0ca8091798f"><td class="mdescLeft">&#160;</td><td class="mdescRight">init_mysql 初始化mysql , 连接，指定数据库  <a href="#affefb171c935f2ae5832d0ca8091798f"></a><br/></td></tr>
<tr class="separator:affefb171c935f2ae5832d0ca8091798f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af89ddd8c208010e4477750f84849f9bf"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#af89ddd8c208010e4477750f84849f9bf">get_table_name</a> (<a class="el" href="base_8h.html#af84840501dec18061d18a68c162a8fa2">Uint8</a> type)</td></tr>
<tr class="memdesc:af89ddd8c208010e4477750f84849f9bf"><td class="mdescLeft">&#160;</td><td class="mdescRight">get_table_name 根据设备类型 拿到对应的表名  <a href="#af89ddd8c208010e4477750f84849f9bf"></a><br/></td></tr>
<tr class="separator:af89ddd8c208010e4477750f84849f9bf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45f3ac6076b939b77778a8d8a2aebde6"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6">check_connect</a> ()</td></tr>
<tr class="memdesc:a45f3ac6076b939b77778a8d8a2aebde6"><td class="mdescLeft">&#160;</td><td class="mdescRight">check_connect 检查连接  <a href="#a45f3ac6076b939b77778a8d8a2aebde6"></a><br/></td></tr>
<tr class="separator:a45f3ac6076b939b77778a8d8a2aebde6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe0ea3530d4cbbbf870292d37df7ac9e"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#afe0ea3530d4cbbbf870292d37df7ac9e">insert_mysql</a> (string sql_cmd)</td></tr>
<tr class="memdesc:afe0ea3530d4cbbbf870292d37df7ac9e"><td class="mdescLeft">&#160;</td><td class="mdescRight">insert_mysql 数据库基本插入操作  <a href="#afe0ea3530d4cbbbf870292d37df7ac9e"></a><br/></td></tr>
<tr class="separator:afe0ea3530d4cbbbf870292d37df7ac9e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae3ea82d0883ed39d63abe2f2e5cde42f"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#ae3ea82d0883ed39d63abe2f2e5cde42f">db_insert_query</a> (const string &amp;colstr, const string &amp;valstr, const string &amp;tablename)</td></tr>
<tr class="memdesc:ae3ea82d0883ed39d63abe2f2e5cde42f"><td class="mdescLeft">&#160;</td><td class="mdescRight">db_insert_query 数据库插入  <a href="#ae3ea82d0883ed39d63abe2f2e5cde42f"></a><br/></td></tr>
<tr class="separator:ae3ea82d0883ed39d63abe2f2e5cde42f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac9d1db67754ebd6ac53cd4ce185a22cd"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#ac9d1db67754ebd6ac53cd4ce185a22cd">DupicateKeyUpdateQuery</a> (const string &amp;colstr, const string &amp;valstr, const string &amp;updatestr, const string &amp;tablename)</td></tr>
<tr class="memdesc:ac9d1db67754ebd6ac53cd4ce185a22cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">DupicateKeyUpdateQuery 更新、插入查询：存在则更新不存在则插入  <a href="#ac9d1db67754ebd6ac53cd4ce185a22cd"></a><br/></td></tr>
<tr class="separator:ac9d1db67754ebd6ac53cd4ce185a22cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acdefe48f4a7a750062898c54c5ecd356"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#acdefe48f4a7a750062898c54c5ecd356">select_query</a> (const string &amp;sql, string &amp;retstr)</td></tr>
<tr class="memdesc:acdefe48f4a7a750062898c54c5ecd356"><td class="mdescLeft">&#160;</td><td class="mdescRight">select_query 查找操作  <a href="#acdefe48f4a7a750062898c54c5ecd356"></a><br/></td></tr>
<tr class="separator:acdefe48f4a7a750062898c54c5ecd356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7f355040a91d1275a6ac9a9490025717"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="base_8h.html#a60cf7b3c038ce37a50796e8eaddf0b5f">Uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a7f355040a91d1275a6ac9a9490025717">db_select_query</a> (const string &amp;colstr, const string &amp;wheresrt, const string &amp;tablename, string &amp;retstr)</td></tr>
<tr class="memdesc:a7f355040a91d1275a6ac9a9490025717"><td class="mdescLeft">&#160;</td><td class="mdescRight">db_select_query 查找操作  <a href="#a7f355040a91d1275a6ac9a9490025717"></a><br/></td></tr>
<tr class="separator:a7f355040a91d1275a6ac9a9490025717"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09e73ba1c0460f0f548fffa8f8aa8ebb"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb">db_update_query</a> (const string &amp;setstr, const string &amp;wherestr, const string &amp;tablename)</td></tr>
<tr class="memdesc:a09e73ba1c0460f0f548fffa8f8aa8ebb"><td class="mdescLeft">&#160;</td><td class="mdescRight">db_update_query 更新查询  <a href="#a09e73ba1c0460f0f548fffa8f8aa8ebb"></a><br/></td></tr>
<tr class="separator:a09e73ba1c0460f0f548fffa8f8aa8ebb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aec7bbc2b50281d325bd7e99661ef5c60"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#aec7bbc2b50281d325bd7e99661ef5c60">findRtuadd</a> (<a class="el" href="base_8h.html#a60cf7b3c038ce37a50796e8eaddf0b5f">Uint32</a> rtuadd, const string &amp;tablename)</td></tr>
<tr class="separator:aec7bbc2b50281d325bd7e99661ef5c60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7748ddce59655cc11534b75d5e0956d4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a7748ddce59655cc11534b75d5e0956d4">findHostname</a> (char *hostname)</td></tr>
<tr class="memdesc:a7748ddce59655cc11534b75d5e0956d4"><td class="mdescLeft">&#160;</td><td class="mdescRight">findHostname 查找对应的主机名  <a href="#a7748ddce59655cc11534b75d5e0956d4"></a><br/></td></tr>
<tr class="separator:a7748ddce59655cc11534b75d5e0956d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a645417f4347afad166d95e919bf778de"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8h.html#a60cf7b3c038ce37a50796e8eaddf0b5f">Uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a645417f4347afad166d95e919bf778de">GetHostIdByName</a> (char *hostname, <a class="el" href="base_8h.html#a60cf7b3c038ce37a50796e8eaddf0b5f">Uint32</a> &amp;hostid)</td></tr>
<tr class="memdesc:a645417f4347afad166d95e919bf778de"><td class="mdescLeft">&#160;</td><td class="mdescRight">GetHostIdByName 根据主机名查找对应的ID.  <a href="#a645417f4347afad166d95e919bf778de"></a><br/></td></tr>
<tr class="separator:a645417f4347afad166d95e919bf778de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a45ba5638ae09b4ccca4dbe1bdb6bf89a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a45ba5638ae09b4ccca4dbe1bdb6bf89a">GetHostCount</a> ()</td></tr>
<tr class="memdesc:a45ba5638ae09b4ccca4dbe1bdb6bf89a"><td class="mdescLeft">&#160;</td><td class="mdescRight">GetHostCount 拿到 连接上来的主机个数  <a href="#a45ba5638ae09b4ccca4dbe1bdb6bf89a"></a><br/></td></tr>
<tr class="separator:a45ba5638ae09b4ccca4dbe1bdb6bf89a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a21f3b1ac4424fa0839c3182b0ab7cbd8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a21f3b1ac4424fa0839c3182b0ab7cbd8">insert_db_rtu</a> (<a class="el" href="structRtuRegInfo.html">RtuRegInfo</a> &amp;rtuinfo)</td></tr>
<tr class="memdesc:a21f3b1ac4424fa0839c3182b0ab7cbd8"><td class="mdescLeft">&#160;</td><td class="mdescRight">insert_db_rtu 注册设备接口 ，将设备写入数据库  <a href="#a21f3b1ac4424fa0839c3182b0ab7cbd8"></a><br/></td></tr>
<tr class="separator:a21f3b1ac4424fa0839c3182b0ab7cbd8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9acb52e4299badf813180da0f8214c37"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a9acb52e4299badf813180da0f8214c37">insert_db_host</a> (<a class="el" href="structHostRegInfo.html">HostRegInfo</a> &amp;hostinfo)</td></tr>
<tr class="memdesc:a9acb52e4299badf813180da0f8214c37"><td class="mdescLeft">&#160;</td><td class="mdescRight">insert_db_host 主机注册接口  <a href="#a9acb52e4299badf813180da0f8214c37"></a><br/></td></tr>
<tr class="separator:a9acb52e4299badf813180da0f8214c37"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad9cd8d3ab8c7385eceb3280b5f910b2a"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#ad9cd8d3ab8c7385eceb3280b5f910b2a">insert_db_sceneinfo</a> (<a class="el" href="structSceneInfo.html">SceneInfo</a> &amp;sceneinfo)</td></tr>
<tr class="memdesc:ad9cd8d3ab8c7385eceb3280b5f910b2a"><td class="mdescLeft">&#160;</td><td class="mdescRight">insert_db_sceneinfo 创建、修改情景  <a href="#ad9cd8d3ab8c7385eceb3280b5f910b2a"></a><br/></td></tr>
<tr class="separator:ad9cd8d3ab8c7385eceb3280b5f910b2a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a62123b0c0b89cfe644b8e040a4fe2a3b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a62123b0c0b89cfe644b8e040a4fe2a3b">insert_db_apprtu</a> (<a class="el" href="structAppRtuInfo.html">AppRtuInfo</a> &amp;rtuinfo)</td></tr>
<tr class="memdesc:a62123b0c0b89cfe644b8e040a4fe2a3b"><td class="mdescLeft">&#160;</td><td class="mdescRight">insert_db_apprtu 添加，编辑 应用设备  <a href="#a62123b0c0b89cfe644b8e040a4fe2a3b"></a><br/></td></tr>
<tr class="separator:a62123b0c0b89cfe644b8e040a4fe2a3b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0eb771b638f26a87a9cce0c7de472f0f"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a0eb771b638f26a87a9cce0c7de472f0f">insert_db_taskinfo</a> (<a class="el" href="structTaskInfo.html">TaskInfo</a> &amp;taskinfo)</td></tr>
<tr class="memdesc:a0eb771b638f26a87a9cce0c7de472f0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">insert_db_taskinfo 设置 编辑定时任务  <a href="#a0eb771b638f26a87a9cce0c7de472f0f"></a><br/></td></tr>
<tr class="separator:a0eb771b638f26a87a9cce0c7de472f0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83758c046728190fe1ac0a9eef34285b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a83758c046728190fe1ac0a9eef34285b">update_db_nativertu</a> (<a class="el" href="structNativeRtuInfo.html">NativeRtuInfo</a> &amp;rtuinfo, <a class="el" href="base_8h.html#af84840501dec18061d18a68c162a8fa2">Uint8</a> mode)</td></tr>
<tr class="memdesc:a83758c046728190fe1ac0a9eef34285b"><td class="mdescLeft">&#160;</td><td class="mdescRight">update_db_nativertu 常规设备更新  <a href="#a83758c046728190fe1ac0a9eef34285b"></a><br/></td></tr>
<tr class="separator:a83758c046728190fe1ac0a9eef34285b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae0e36aa1334e0b83d2e2edd95a89b5b2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#ae0e36aa1334e0b83d2e2edd95a89b5b2">update_db_safetyrtu</a> (<a class="el" href="structSafetyRtu.html">SafetyRtu</a> &amp;rtuinfo)</td></tr>
<tr class="memdesc:ae0e36aa1334e0b83d2e2edd95a89b5b2"><td class="mdescLeft">&#160;</td><td class="mdescRight">update_db_safetyrtu 更新安防设备  <a href="#ae0e36aa1334e0b83d2e2edd95a89b5b2"></a><br/></td></tr>
<tr class="separator:ae0e36aa1334e0b83d2e2edd95a89b5b2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aedbae4394a0f4e1fc8f6eabee7e355c2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#aedbae4394a0f4e1fc8f6eabee7e355c2">update_db_sceneinfo</a> (<a class="el" href="structSceneInfo.html">SceneInfo</a> &amp;rtuinfo)</td></tr>
<tr class="memdesc:aedbae4394a0f4e1fc8f6eabee7e355c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">update_db_sceneinfo 修改 情景  <a href="#aedbae4394a0f4e1fc8f6eabee7e355c2"></a><br/></td></tr>
<tr class="separator:aedbae4394a0f4e1fc8f6eabee7e355c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b214bd5c7dbfef30ac417954cb0c5e2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a8b214bd5c7dbfef30ac417954cb0c5e2">update_db_apprtu</a> (<a class="el" href="structAppRtuInfo.html">AppRtuInfo</a> &amp;rtuinfo)</td></tr>
<tr class="memdesc:a8b214bd5c7dbfef30ac417954cb0c5e2"><td class="mdescLeft">&#160;</td><td class="mdescRight">update_db_apprtu 修改应用设备  <a href="#a8b214bd5c7dbfef30ac417954cb0c5e2"></a><br/></td></tr>
<tr class="separator:a8b214bd5c7dbfef30ac417954cb0c5e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82757fe4298d8fdf297391a4e42e3293"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a82757fe4298d8fdf297391a4e42e3293">update_db_host</a> (<a class="el" href="structHostRegInfo.html">HostRegInfo</a> &amp;hostinfo)</td></tr>
<tr class="memdesc:a82757fe4298d8fdf297391a4e42e3293"><td class="mdescLeft">&#160;</td><td class="mdescRight">update_db_host 更新主机信息表  <a href="#a82757fe4298d8fdf297391a4e42e3293"></a><br/></td></tr>
<tr class="separator:a82757fe4298d8fdf297391a4e42e3293"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f38e8abcbb787b6fed1c8e1dce1c7c2"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a5f38e8abcbb787b6fed1c8e1dce1c7c2">update_db_hostname</a> (<a class="el" href="structHostMan.html">HostMan</a> &amp;hostinfo)</td></tr>
<tr class="memdesc:a5f38e8abcbb787b6fed1c8e1dce1c7c2"><td class="mdescLeft">&#160;</td><td class="mdescRight">update_db_hostname 用户管理  <a href="#a5f38e8abcbb787b6fed1c8e1dce1c7c2"></a><br/></td></tr>
<tr class="separator:a5f38e8abcbb787b6fed1c8e1dce1c7c2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad42e211ca6c04241e68331f73c74113c"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#ad42e211ca6c04241e68331f73c74113c">update_db_rtuinfo</a> (<a class="el" href="structRtuUpdate.html">RtuUpdate</a> &amp;hostinfo)</td></tr>
<tr class="memdesc:ad42e211ca6c04241e68331f73c74113c"><td class="mdescLeft">&#160;</td><td class="mdescRight">update_db_rtuinfo 用户设备信息编辑  <a href="#ad42e211ca6c04241e68331f73c74113c"></a><br/></td></tr>
<tr class="separator:ad42e211ca6c04241e68331f73c74113c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aae594d8934a37c3a973e31432cd76c96"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#aae594d8934a37c3a973e31432cd76c96">update_db_scenertu</a> (<a class="el" href="structSceneRtu.html">SceneRtu</a> &amp;rtuinfo)</td></tr>
<tr class="memdesc:aae594d8934a37c3a973e31432cd76c96"><td class="mdescLeft">&#160;</td><td class="mdescRight">update_db_scenertu 更新情景面板  <a href="#aae594d8934a37c3a973e31432cd76c96"></a><br/></td></tr>
<tr class="separator:aae594d8934a37c3a973e31432cd76c96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81cfc05e7763f268740f8a27f85b77de"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a81cfc05e7763f268740f8a27f85b77de">update_db_exnativertu</a> (<a class="el" href="structExNativeRtu.html">ExNativeRtu</a> &amp;rtuinfo)</td></tr>
<tr class="memdesc:a81cfc05e7763f268740f8a27f85b77de"><td class="mdescLeft">&#160;</td><td class="mdescRight">update_db_exnativertu 更新智能床  <a href="#a81cfc05e7763f268740f8a27f85b77de"></a><br/></td></tr>
<tr class="separator:a81cfc05e7763f268740f8a27f85b77de"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a659d4acf9f3d7a1b013867717905c198"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a659d4acf9f3d7a1b013867717905c198">update_db_taskinfo</a> (<a class="el" href="structTaskInfo.html">TaskInfo</a> &amp;taskinfo)</td></tr>
<tr class="memdesc:a659d4acf9f3d7a1b013867717905c198"><td class="mdescLeft">&#160;</td><td class="mdescRight">update_db_taskinfo 编辑定时任务  <a href="#a659d4acf9f3d7a1b013867717905c198"></a><br/></td></tr>
<tr class="separator:a659d4acf9f3d7a1b013867717905c198"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa039ebdc57c1a8157a01c9a762f43bc6"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#aa039ebdc57c1a8157a01c9a762f43bc6">update_db_detectorrtu</a> (<a class="el" href="structDetectorRtu.html">DetectorRtu</a> &amp;rtuinfo, <a class="el" href="base_8h.html#af84840501dec18061d18a68c162a8fa2">Uint8</a> mode)</td></tr>
<tr class="memdesc:aa039ebdc57c1a8157a01c9a762f43bc6"><td class="mdescLeft">&#160;</td><td class="mdescRight">update_db_detectorrtu 更新传感器设备  <a href="#aa039ebdc57c1a8157a01c9a762f43bc6"></a><br/></td></tr>
<tr class="separator:aa039ebdc57c1a8157a01c9a762f43bc6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a35e1056e0f46576bda26dabc59ce0ded"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a35e1056e0f46576bda26dabc59ce0ded">update_db_detectorbind</a> (<a class="el" href="structDetectorBind.html">DetectorBind</a> &amp;rtuinfo)</td></tr>
<tr class="memdesc:a35e1056e0f46576bda26dabc59ce0ded"><td class="mdescLeft">&#160;</td><td class="mdescRight">update_db_detectorbind 绑定联动接口  <a href="#a35e1056e0f46576bda26dabc59ce0ded"></a><br/></td></tr>
<tr class="separator:a35e1056e0f46576bda26dabc59ce0ded"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afe8cc79a0b360aa2a371f266709451e8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#afe8cc79a0b360aa2a371f266709451e8">update_db_safetypwd</a> (<a class="el" href="structSafetyPwdInfo.html">SafetyPwdInfo</a> &amp;rtuinfo)</td></tr>
<tr class="memdesc:afe8cc79a0b360aa2a371f266709451e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">update_db_safetypwd 门锁密码更新接口 包括新开锁密码添加，修改 管理员密码修改  <a href="#afe8cc79a0b360aa2a371f266709451e8"></a><br/></td></tr>
<tr class="separator:afe8cc79a0b360aa2a371f266709451e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a334c4412fa09aab89d49cefdfd233b04"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a334c4412fa09aab89d49cefdfd233b04">select_db_hostinfo</a> (<a class="el" href="structHostRegInfo.html">HostRegInfo</a> *pHostinfo, char *hostname)</td></tr>
<tr class="memdesc:a334c4412fa09aab89d49cefdfd233b04"><td class="mdescLeft">&#160;</td><td class="mdescRight">select_db_hostinfo 根据主机名 查询主机信息 ，用于 APP远程登陆  <a href="#a334c4412fa09aab89d49cefdfd233b04"></a><br/></td></tr>
<tr class="separator:a334c4412fa09aab89d49cefdfd233b04"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a91ce6d4931baf0cca718619888e1412d"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a91ce6d4931baf0cca718619888e1412d">delete_db_host</a> (char *hostname)</td></tr>
<tr class="memdesc:a91ce6d4931baf0cca718619888e1412d"><td class="mdescLeft">&#160;</td><td class="mdescRight">delete_db_host 删除主机设备  <a href="#a91ce6d4931baf0cca718619888e1412d"></a><br/></td></tr>
<tr class="separator:a91ce6d4931baf0cca718619888e1412d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa21954b5a414041dffb59dd549dcb8"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#adfa21954b5a414041dffb59dd549dcb8">delete_db_rtu</a> (<a class="el" href="structRtuRemoveInfo.html">RtuRemoveInfo</a> &amp;rtuinfo)</td></tr>
<tr class="memdesc:adfa21954b5a414041dffb59dd549dcb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">delete_db_rtu 删除设备 接口 不包括删除主机  <a href="#adfa21954b5a414041dffb59dd549dcb8"></a><br/></td></tr>
<tr class="separator:adfa21954b5a414041dffb59dd549dcb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa1165b8a3c5a7d095576c678f94268f3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="base_8h.html#a60cf7b3c038ce37a50796e8eaddf0b5f">Uint32</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#aa1165b8a3c5a7d095576c678f94268f3">GetIpByHostAdd</a> (<a class="el" href="base_8h.html#a60cf7b3c038ce37a50796e8eaddf0b5f">Uint32</a> hostadd, <a class="el" href="base_8h.html#a60cf7b3c038ce37a50796e8eaddf0b5f">Uint32</a> &amp;hostip)</td></tr>
<tr class="separator:aa1165b8a3c5a7d095576c678f94268f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a513b454acfc51fb3100e5a8ad0535b50"><td class="memItemLeft" align="right" valign="top">MYSQL&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a></td></tr>
<tr class="separator:a513b454acfc51fb3100e5a8ad0535b50"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>数据库接口实现 </p>
<p>增删查改 </p>
<dl class="section author"><dt>Author</dt><dd>menqi - <a href="#" onclick="location.href='mai'+'lto:'+'108'+'37'+'348'+'76'+'@qq'+'.c'+'om'; return false;">10837<span style="display: none;">.nosp@m.</span>3487<span style="display: none;">.nosp@m.</span>6@qq.<span style="display: none;">.nosp@m.</span>com</a> </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2016-05-06 16:45 </dd></dl>
<dl class="section version"><dt>Version</dt><dd>1.0 </dd></dl>
<dl class="section user"><dt>Copyright (c): menqi </dt><dd></dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a45f3ac6076b939b77778a8d8a2aebde6"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int check_connect </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>check_connect 检查连接 </p>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a>.</p>

<p>Referenced by <a class="el" href="dbbase_8cpp.html#ae3ea82d0883ed39d63abe2f2e5cde42f">db_insert_query()</a>, <a class="el" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb">db_update_query()</a>, <a class="el" href="dbbase_8h.html#a91ce6d4931baf0cca718619888e1412d">delete_db_host()</a>, <a class="el" href="dbbase_8h.html#adfa21954b5a414041dffb59dd549dcb8">delete_db_rtu()</a>, <a class="el" href="dbbase_8cpp.html#ac9d1db67754ebd6ac53cd4ce185a22cd">DupicateKeyUpdateQuery()</a>, <a class="el" href="dbbase_8h.html#a7748ddce59655cc11534b75d5e0956d4">findHostname()</a>, <a class="el" href="dbbase_8cpp.html#aec7bbc2b50281d325bd7e99661ef5c60">findRtuadd()</a>, <a class="el" href="dbbase_8h.html#a45ba5638ae09b4ccca4dbe1bdb6bf89a">GetHostCount()</a>, <a class="el" href="dbbase_8h.html#a645417f4347afad166d95e919bf778de">GetHostIdByName()</a>, <a class="el" href="dbbase_8h.html#aa1165b8a3c5a7d095576c678f94268f3">GetIpByHostAdd()</a>, and <a class="el" href="dbbase_8cpp.html#acdefe48f4a7a750062898c54c5ecd356">select_query()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a45f3ac6076b939b77778a8d8a2aebde6_icgraph.png" border="0" usemap="#dbbase_8cpp_a45f3ac6076b939b77778a8d8a2aebde6_icgraph" alt=""/></div>
<map name="dbbase_8cpp_a45f3ac6076b939b77778a8d8a2aebde6_icgraph" id="dbbase_8cpp_a45f3ac6076b939b77778a8d8a2aebde6_icgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#ae3ea82d0883ed39d63abe2f2e5cde42f" title="db_insert_query 数据库插入" alt="" coords="196,59,311,88"/><area shape="rect" id="node9" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb" title="db_update_query 更新查询" alt="" coords="193,379,313,408"/><area shape="rect" id="node31" href="dbbase_8h.html#a91ce6d4931baf0cca718619888e1412d" title="delete_db_host 删除主机设备" alt="" coords="199,640,308,669"/><area shape="rect" id="node33" href="dbbase_8h.html#adfa21954b5a414041dffb59dd549dcb8" title="delete_db_rtu 删除设备 接口 不包括删除主机" alt="" coords="623,692,721,721"/><area shape="rect" id="node37" href="dbbase_8cpp.html#ac9d1db67754ebd6ac53cd4ce185a22cd" title="DupicateKeyUpdateQuery 更新、插入查询：存在则更新不存在则插入" alt="" coords="167,744,340,773"/><area shape="rect" id="node53" href="dbbase_8h.html#a7748ddce59655cc11534b75d5e0956d4" title="findHostname 查找对应的主机名" alt="" coords="203,112,304,141"/><area shape="rect" id="node57" href="dbbase_8cpp.html#aec7bbc2b50281d325bd7e99661ef5c60" title="findRtuadd" alt="" coords="211,5,296,35"/><area shape="rect" id="node60" href="dbbase_8h.html#a45ba5638ae09b4ccca4dbe1bdb6bf89a" title="GetHostCount 拿到 连接上来的主机个数" alt="" coords="200,797,307,827"/><area shape="rect" id="node62" href="dbbase_8h.html#a645417f4347afad166d95e919bf778de" title="GetHostIdByName 根据主机名查找对应的ID." alt="" coords="187,851,320,880"/><area shape="rect" id="node64" href="dbbase_8h.html#aa1165b8a3c5a7d095576c678f94268f3" title="GetIpByHostAdd" alt="" coords="193,904,313,933"/><area shape="rect" id="node66" href="dbbase_8cpp.html#acdefe48f4a7a750062898c54c5ecd356" title="select_query 查找操作" alt="" coords="205,587,301,616"/><area shape="rect" id="node5" href="dbbase_8h.html#a21f3b1ac4424fa0839c3182b0ab7cbd8" title="insert_db_rtu 注册设备接口 ，将设备写入数据库" alt="" coords="421,5,517,35"/><area shape="rect" id="node7" href="dbbase_8h.html#a9acb52e4299badf813180da0f8214c37" title="insert_db_host 主机注册接口" alt="" coords="416,59,523,88"/><area shape="rect" id="node11" href="dbbase_8h.html#a83758c046728190fe1ac0a9eef34285b" title="update_db_nativertu 常规设备更新" alt="" coords="400,379,539,408"/><area shape="rect" id="node13" href="dbbase_8h.html#ae0e36aa1334e0b83d2e2edd95a89b5b2" title="update_db_safetyrtu 更新安防设备" alt="" coords="400,432,539,461"/><area shape="rect" id="node15" href="dbbase_8h.html#a82757fe4298d8fdf297391a4e42e3293" title="update_db_host 更新主机信息表" alt="" coords="412,112,527,141"/><area shape="rect" id="node17" href="dbbase_8h.html#a5f38e8abcbb787b6fed1c8e1dce1c7c2" title="update_db_hostname 用户管理" alt="" coords="599,585,745,615"/><area shape="rect" id="node19" href="dbbase_8h.html#ad42e211ca6c04241e68331f73c74113c" title="update_db_rtuinfo 用户设备信息编辑" alt="" coords="407,165,532,195"/><area shape="rect" id="node21" href="dbbase_8h.html#aae594d8934a37c3a973e31432cd76c96" title="update_db_scenertu 更新情景面板" alt="" coords="400,219,539,248"/><area shape="rect" id="node23" href="dbbase_8h.html#a81cfc05e7763f268740f8a27f85b77de" title="update_db_exnativertu 更新智能床" alt="" coords="393,272,545,301"/><area shape="rect" id="node25" href="dbbase_8h.html#aa039ebdc57c1a8157a01c9a762f43bc6" title="update_db_detectorrtu 更新传感器设备" alt="" coords="395,325,544,355"/><area shape="rect" id="node27" href="dbbase_8h.html#a35e1056e0f46576bda26dabc59ce0ded" title="update_db_detectorbind 绑定联动接口" alt="" coords="389,536,549,565"/><area shape="rect" id="node29" href="dbbase_8h.html#afe8cc79a0b360aa2a371f266709451e8" title="update_db_safetypwd 门锁密码更新接口 包括新开锁密码添加，修改 管理员密码修改" alt="" coords="597,508,747,537"/><area shape="rect" id="node35" href="sql_8cpp.html#abf9e6b7e6f15df4b525a2e7705ba3089" title="main" alt="" coords="795,745,845,775"/><area shape="rect" id="node39" href="dbbase_8h.html#ad9cd8d3ab8c7385eceb3280b5f910b2a" title="insert_db_sceneinfo 创建、修改情景" alt="" coords="400,745,539,775"/><area shape="rect" id="node44" href="dbbase_8h.html#a62123b0c0b89cfe644b8e040a4fe2a3b" title="insert_db_apprtu 添加，编辑 应用设备" alt="" coords="411,799,528,828"/><area shape="rect" id="node48" href="dbbase_8h.html#a0eb771b638f26a87a9cce0c7de472f0f" title="insert_db_taskinfo 设置 编辑定时任务" alt="" coords="405,852,533,881"/><area shape="rect" id="node41" href="dbbase_8h.html#aedbae4394a0f4e1fc8f6eabee7e355c2" title="update_db_sceneinfo 修改 情景" alt="" coords="600,745,744,775"/><area shape="rect" id="node46" href="dbbase_8h.html#a8b214bd5c7dbfef30ac417954cb0c5e2" title="update_db_apprtu 修改应用设备" alt="" coords="609,799,735,828"/><area shape="rect" id="node50" href="dbbase_8h.html#a659d4acf9f3d7a1b013867717905c198" title="update_db_taskinfo 编辑定时任务" alt="" coords="605,852,739,881"/><area shape="rect" id="node68" href="dbbase_8cpp.html#a7f355040a91d1275a6ac9a9490025717" title="db_select_query 查找操作" alt="" coords="411,640,528,669"/><area shape="rect" id="node72" href="dbbase_8h.html#a334c4412fa09aab89d49cefdfd233b04" title="select_db_hostinfo 根据主机名 查询主机信息 ，用于 APP远程登陆" alt="" coords="607,639,737,668"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae3ea82d0883ed39d63abe2f2e5cde42f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int db_insert_query </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>colstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>valstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tablename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>db_insert_query 数据库插入 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">colstr</td><td>列字段 </td></tr>
    <tr><td class="paramname">valstr</td><td>值字段 </td></tr>
    <tr><td class="paramname">tablename</td><td>数据表名</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6">check_connect()</a>, <a class="el" href="dbbase_8cpp.html#afe0ea3530d4cbbbf870292d37df7ac9e">insert_mysql()</a>, <a class="el" href="base_8h.html#a1f953b078595aed0c003eda86c62bde2">LOG_DEBUG</a>, and <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>.</p>

<p>Referenced by <a class="el" href="dbbase_8h.html#a9acb52e4299badf813180da0f8214c37">insert_db_host()</a>, and <a class="el" href="dbbase_8h.html#a21f3b1ac4424fa0839c3182b0ab7cbd8">insert_db_rtu()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_ae3ea82d0883ed39d63abe2f2e5cde42f_cgraph.png" border="0" usemap="#dbbase_8cpp_ae3ea82d0883ed39d63abe2f2e5cde42f_cgraph" alt=""/></div>
<map name="dbbase_8cpp_ae3ea82d0883ed39d63abe2f2e5cde42f_cgraph" id="dbbase_8cpp_ae3ea82d0883ed39d63abe2f2e5cde42f_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="169,5,279,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#afe0ea3530d4cbbbf870292d37df7ac9e" title="insert_mysql 数据库基本插入操作" alt="" coords="176,59,272,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_ae3ea82d0883ed39d63abe2f2e5cde42f_icgraph.png" border="0" usemap="#dbbase_8cpp_ae3ea82d0883ed39d63abe2f2e5cde42f_icgraph" alt=""/></div>
<map name="dbbase_8cpp_ae3ea82d0883ed39d63abe2f2e5cde42f_icgraph" id="dbbase_8cpp_ae3ea82d0883ed39d63abe2f2e5cde42f_icgraph">
<area shape="rect" id="node3" href="dbbase_8h.html#a9acb52e4299badf813180da0f8214c37" title="insert_db_host 主机注册接口" alt="" coords="168,5,275,35"/><area shape="rect" id="node5" href="dbbase_8h.html#a21f3b1ac4424fa0839c3182b0ab7cbd8" title="insert_db_rtu 注册设备接口 ，将设备写入数据库" alt="" coords="173,59,269,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7f355040a91d1275a6ac9a9490025717"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static <a class="el" href="base_8h.html#a60cf7b3c038ce37a50796e8eaddf0b5f">Uint32</a> db_select_query </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>colstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>wheresrt</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tablename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>retstr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>db_select_query 查找操作 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">colstr</td><td>列字段 </td></tr>
    <tr><td class="paramname">wheresrt</td><td>过滤字段 </td></tr>
    <tr><td class="paramname">tablename</td><td>表名 </td></tr>
    <tr><td class="paramname">retstr</td><td>查找结果</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="base_8h.html#a1f953b078595aed0c003eda86c62bde2">LOG_DEBUG</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, and <a class="el" href="dbbase_8cpp.html#acdefe48f4a7a750062898c54c5ecd356">select_query()</a>.</p>

<p>Referenced by <a class="el" href="dbbase_8h.html#a334c4412fa09aab89d49cefdfd233b04">select_db_hostinfo()</a>, <a class="el" href="dbbase_8h.html#a5f38e8abcbb787b6fed1c8e1dce1c7c2">update_db_hostname()</a>, and <a class="el" href="dbbase_8h.html#afe8cc79a0b360aa2a371f266709451e8">update_db_safetypwd()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a7f355040a91d1275a6ac9a9490025717_cgraph.png" border="0" usemap="#dbbase_8cpp_a7f355040a91d1275a6ac9a9490025717_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a7f355040a91d1275a6ac9a9490025717_cgraph" id="dbbase_8cpp_a7f355040a91d1275a6ac9a9490025717_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#acdefe48f4a7a750062898c54c5ecd356" title="select_query 查找操作" alt="" coords="171,5,267,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="316,5,425,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a7f355040a91d1275a6ac9a9490025717_icgraph.png" border="0" usemap="#dbbase_8cpp_a7f355040a91d1275a6ac9a9490025717_icgraph" alt=""/></div>
<map name="dbbase_8cpp_a7f355040a91d1275a6ac9a9490025717_icgraph" id="dbbase_8cpp_a7f355040a91d1275a6ac9a9490025717_icgraph">
<area shape="rect" id="node3" href="dbbase_8h.html#a334c4412fa09aab89d49cefdfd233b04" title="select_db_hostinfo 根据主机名 查询主机信息 ，用于 APP远程登陆" alt="" coords="180,5,311,35"/><area shape="rect" id="node5" href="dbbase_8h.html#a5f38e8abcbb787b6fed1c8e1dce1c7c2" title="update_db_hostname 用户管理" alt="" coords="172,59,319,88"/><area shape="rect" id="node7" href="dbbase_8h.html#afe8cc79a0b360aa2a371f266709451e8" title="update_db_safetypwd 门锁密码更新接口 包括新开锁密码添加，修改 管理员密码修改" alt="" coords="171,112,320,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a09e73ba1c0460f0f548fffa8f8aa8ebb"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int db_update_query </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>setstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>wherestr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tablename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>db_update_query 更新查询 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">setstr</td><td>设置字符串 </td></tr>
    <tr><td class="paramname">wherestr</td><td>条件字符串 </td></tr>
    <tr><td class="paramname">tablename</td><td>表名</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6">check_connect()</a>, <a class="el" href="base_8h.html#a1f953b078595aed0c003eda86c62bde2">LOG_DEBUG</a>, and <a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a>.</p>

<p>Referenced by <a class="el" href="dbbase_8h.html#a35e1056e0f46576bda26dabc59ce0ded">update_db_detectorbind()</a>, <a class="el" href="dbbase_8h.html#aa039ebdc57c1a8157a01c9a762f43bc6">update_db_detectorrtu()</a>, <a class="el" href="dbbase_8h.html#a81cfc05e7763f268740f8a27f85b77de">update_db_exnativertu()</a>, <a class="el" href="dbbase_8h.html#a82757fe4298d8fdf297391a4e42e3293">update_db_host()</a>, <a class="el" href="dbbase_8h.html#a5f38e8abcbb787b6fed1c8e1dce1c7c2">update_db_hostname()</a>, <a class="el" href="dbbase_8h.html#a83758c046728190fe1ac0a9eef34285b">update_db_nativertu()</a>, <a class="el" href="dbbase_8h.html#ad42e211ca6c04241e68331f73c74113c">update_db_rtuinfo()</a>, <a class="el" href="dbbase_8h.html#afe8cc79a0b360aa2a371f266709451e8">update_db_safetypwd()</a>, <a class="el" href="dbbase_8h.html#ae0e36aa1334e0b83d2e2edd95a89b5b2">update_db_safetyrtu()</a>, and <a class="el" href="dbbase_8h.html#aae594d8934a37c3a973e31432cd76c96">update_db_scenertu()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a09e73ba1c0460f0f548fffa8f8aa8ebb_cgraph.png" border="0" usemap="#dbbase_8cpp_a09e73ba1c0460f0f548fffa8f8aa8ebb_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a09e73ba1c0460f0f548fffa8f8aa8ebb_cgraph" id="dbbase_8cpp_a09e73ba1c0460f0f548fffa8f8aa8ebb_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="177,5,287,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a09e73ba1c0460f0f548fffa8f8aa8ebb_icgraph.png" border="0" usemap="#dbbase_8cpp_a09e73ba1c0460f0f548fffa8f8aa8ebb_icgraph" alt=""/></div>
<map name="dbbase_8cpp_a09e73ba1c0460f0f548fffa8f8aa8ebb_icgraph" id="dbbase_8cpp_a09e73ba1c0460f0f548fffa8f8aa8ebb_icgraph">
<area shape="rect" id="node3" href="dbbase_8h.html#a35e1056e0f46576bda26dabc59ce0ded" title="update_db_detectorbind 绑定联动接口" alt="" coords="176,5,336,35"/><area shape="rect" id="node5" href="dbbase_8h.html#aa039ebdc57c1a8157a01c9a762f43bc6" title="update_db_detectorrtu 更新传感器设备" alt="" coords="181,59,331,88"/><area shape="rect" id="node7" href="dbbase_8h.html#a81cfc05e7763f268740f8a27f85b77de" title="update_db_exnativertu 更新智能床" alt="" coords="180,112,332,141"/><area shape="rect" id="node9" href="dbbase_8h.html#a82757fe4298d8fdf297391a4e42e3293" title="update_db_host 更新主机信息表" alt="" coords="199,165,313,195"/><area shape="rect" id="node11" href="dbbase_8h.html#a5f38e8abcbb787b6fed1c8e1dce1c7c2" title="update_db_hostname 用户管理" alt="" coords="183,219,329,248"/><area shape="rect" id="node13" href="dbbase_8h.html#a83758c046728190fe1ac0a9eef34285b" title="update_db_nativertu 常规设备更新" alt="" coords="187,272,325,301"/><area shape="rect" id="node15" href="dbbase_8h.html#ad42e211ca6c04241e68331f73c74113c" title="update_db_rtuinfo 用户设备信息编辑" alt="" coords="193,325,319,355"/><area shape="rect" id="node17" href="dbbase_8h.html#afe8cc79a0b360aa2a371f266709451e8" title="update_db_safetypwd 门锁密码更新接口 包括新开锁密码添加，修改 管理员密码修改" alt="" coords="181,379,331,408"/><area shape="rect" id="node19" href="dbbase_8h.html#ae0e36aa1334e0b83d2e2edd95a89b5b2" title="update_db_safetyrtu 更新安防设备" alt="" coords="187,432,325,461"/><area shape="rect" id="node21" href="dbbase_8h.html#aae594d8934a37c3a973e31432cd76c96" title="update_db_scenertu 更新情景面板" alt="" coords="187,485,325,515"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a91ce6d4931baf0cca718619888e1412d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int delete_db_host </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>hostname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>delete_db_host 删除主机设备 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hostname</td><td>主机名 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6">check_connect()</a>, <a class="el" href="dbbase_8h.html#ae0812aa7c56834e9de7e2535d62701e6">DB_TABLE_NAMELIST</a>, <a class="el" href="base_8h.html#a1f953b078595aed0c003eda86c62bde2">LOG_DEBUG</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, <a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a>, and <a class="el" href="dbbase_8h.html#a76dca32c9108e44ce73937259d5e7dee">MAX_DB_TYPE</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a91ce6d4931baf0cca718619888e1412d_cgraph.png" border="0" usemap="#dbbase_8cpp_a91ce6d4931baf0cca718619888e1412d_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a91ce6d4931baf0cca718619888e1412d_cgraph" id="dbbase_8cpp_a91ce6d4931baf0cca718619888e1412d_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="167,5,276,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="adfa21954b5a414041dffb59dd549dcb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int delete_db_rtu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRtuRemoveInfo.html">RtuRemoveInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>rtuinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>delete_db_rtu 删除设备 接口 不包括删除主机 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtuinfo</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 删除出错 0 删除成功 或者 没有删除项 </dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6">check_connect()</a>, <a class="el" href="dbbase_8cpp.html#af89ddd8c208010e4477750f84849f9bf">get_table_name()</a>, <a class="el" href="structRtuRemoveInfo.html#a149b55e4c826d44c2d6136d911748674">RtuRemoveInfo::hostadd</a>, <a class="el" href="base_8h.html#a1f953b078595aed0c003eda86c62bde2">LOG_DEBUG</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, <a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a>, <a class="el" href="structRtuRemoveInfo.html#abd5945fa06b993a70ca36d3996407fe2">RtuRemoveInfo::rtuadd</a>, and <a class="el" href="structRtuRemoveInfo.html#a640ae74868393c0f2aab0d23f3be8b17">RtuRemoveInfo::rtutype</a>.</p>

<p>Referenced by <a class="el" href="sql_8cpp.html#abf9e6b7e6f15df4b525a2e7705ba3089">main()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_adfa21954b5a414041dffb59dd549dcb8_cgraph.png" border="0" usemap="#dbbase_8cpp_adfa21954b5a414041dffb59dd549dcb8_cgraph" alt=""/></div>
<map name="dbbase_8cpp_adfa21954b5a414041dffb59dd549dcb8_cgraph" id="dbbase_8cpp_adfa21954b5a414041dffb59dd549dcb8_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="157,5,267,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#af89ddd8c208010e4477750f84849f9bf" title="get_table_name 根据设备类型 拿到对应的表名" alt="" coords="155,59,269,88"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_adfa21954b5a414041dffb59dd549dcb8_icgraph.png" border="0" usemap="#dbbase_8cpp_adfa21954b5a414041dffb59dd549dcb8_icgraph" alt=""/></div>
<map name="dbbase_8cpp_adfa21954b5a414041dffb59dd549dcb8_icgraph" id="dbbase_8cpp_adfa21954b5a414041dffb59dd549dcb8_icgraph">
<area shape="rect" id="node3" href="sql_8cpp.html#abf9e6b7e6f15df4b525a2e7705ba3089" title="main" alt="" coords="155,5,205,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ac9d1db67754ebd6ac53cd4ce185a22cd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int DupicateKeyUpdateQuery </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>colstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>valstr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>updatestr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tablename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>DupicateKeyUpdateQuery 更新、插入查询：存在则更新不存在则插入 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">colstr</td><td>列 </td></tr>
    <tr><td class="paramname">valstr</td><td>值 </td></tr>
    <tr><td class="paramname">updatestr</td><td>要更新的列 </td></tr>
    <tr><td class="paramname">tablename</td><td>表名</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6">check_connect()</a>, <a class="el" href="base_8h.html#a1f953b078595aed0c003eda86c62bde2">LOG_DEBUG</a>, and <a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a>.</p>

<p>Referenced by <a class="el" href="dbbase_8h.html#a62123b0c0b89cfe644b8e040a4fe2a3b">insert_db_apprtu()</a>, <a class="el" href="dbbase_8h.html#ad9cd8d3ab8c7385eceb3280b5f910b2a">insert_db_sceneinfo()</a>, and <a class="el" href="dbbase_8h.html#a0eb771b638f26a87a9cce0c7de472f0f">insert_db_taskinfo()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_ac9d1db67754ebd6ac53cd4ce185a22cd_cgraph.png" border="0" usemap="#dbbase_8cpp_ac9d1db67754ebd6ac53cd4ce185a22cd_cgraph" alt=""/></div>
<map name="dbbase_8cpp_ac9d1db67754ebd6ac53cd4ce185a22cd_cgraph" id="dbbase_8cpp_ac9d1db67754ebd6ac53cd4ce185a22cd_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="231,5,340,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_ac9d1db67754ebd6ac53cd4ce185a22cd_icgraph.png" border="0" usemap="#dbbase_8cpp_ac9d1db67754ebd6ac53cd4ce185a22cd_icgraph" alt=""/></div>
<map name="dbbase_8cpp_ac9d1db67754ebd6ac53cd4ce185a22cd_icgraph" id="dbbase_8cpp_ac9d1db67754ebd6ac53cd4ce185a22cd_icgraph">
<area shape="rect" id="node3" href="dbbase_8h.html#a62123b0c0b89cfe644b8e040a4fe2a3b" title="insert_db_apprtu 添加，编辑 应用设备" alt="" coords="240,5,357,35"/><area shape="rect" id="node7" href="dbbase_8h.html#ad9cd8d3ab8c7385eceb3280b5f910b2a" title="insert_db_sceneinfo 创建、修改情景" alt="" coords="229,59,368,88"/><area shape="rect" id="node13" href="dbbase_8h.html#a0eb771b638f26a87a9cce0c7de472f0f" title="insert_db_taskinfo 设置 编辑定时任务" alt="" coords="235,112,363,141"/><area shape="rect" id="node5" href="dbbase_8h.html#a8b214bd5c7dbfef30ac417954cb0c5e2" title="update_db_apprtu 修改应用设备" alt="" coords="427,5,552,35"/><area shape="rect" id="node9" href="dbbase_8h.html#aedbae4394a0f4e1fc8f6eabee7e355c2" title="update_db_sceneinfo 修改 情景" alt="" coords="417,59,561,88"/><area shape="rect" id="node11" href="sql_8cpp.html#abf9e6b7e6f15df4b525a2e7705ba3089" title="main" alt="" coords="611,85,661,115"/><area shape="rect" id="node15" href="dbbase_8h.html#a659d4acf9f3d7a1b013867717905c198" title="update_db_taskinfo 编辑定时任务" alt="" coords="423,112,556,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a7748ddce59655cc11534b75d5e0956d4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int findHostname </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>hostname</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>findHostname 查找对应的主机名 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hostname</td><td>主机名</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>返回值 -1 错误 0 没有找到对应的 &gt;0 找到的主机个数 </dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6">check_connect()</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, and <a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a>.</p>

<p>Referenced by <a class="el" href="dbbase_8h.html#a9acb52e4299badf813180da0f8214c37">insert_db_host()</a>, and <a class="el" href="dbbase_8h.html#a82757fe4298d8fdf297391a4e42e3293">update_db_host()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a7748ddce59655cc11534b75d5e0956d4_cgraph.png" border="0" usemap="#dbbase_8cpp_a7748ddce59655cc11534b75d5e0956d4_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a7748ddce59655cc11534b75d5e0956d4_cgraph" id="dbbase_8cpp_a7748ddce59655cc11534b75d5e0956d4_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="159,5,268,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a7748ddce59655cc11534b75d5e0956d4_icgraph.png" border="0" usemap="#dbbase_8cpp_a7748ddce59655cc11534b75d5e0956d4_icgraph" alt=""/></div>
<map name="dbbase_8cpp_a7748ddce59655cc11534b75d5e0956d4_icgraph" id="dbbase_8cpp_a7748ddce59655cc11534b75d5e0956d4_icgraph">
<area shape="rect" id="node3" href="dbbase_8h.html#a9acb52e4299badf813180da0f8214c37" title="insert_db_host 主机注册接口" alt="" coords="161,5,268,35"/><area shape="rect" id="node5" href="dbbase_8h.html#a82757fe4298d8fdf297391a4e42e3293" title="update_db_host 更新主机信息表" alt="" coords="157,59,272,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aec7bbc2b50281d325bd7e99661ef5c60"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int findRtuadd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_8h.html#a60cf7b3c038ce37a50796e8eaddf0b5f">Uint32</a>&#160;</td>
          <td class="paramname"><em>rtuadd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>tablename</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>查看对应的设备是否已经存在 </p>

<p>References <a class="el" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6">check_connect()</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, and <a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a>.</p>

<p>Referenced by <a class="el" href="dbbase_8h.html#a21f3b1ac4424fa0839c3182b0ab7cbd8">insert_db_rtu()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_aec7bbc2b50281d325bd7e99661ef5c60_cgraph.png" border="0" usemap="#dbbase_8cpp_aec7bbc2b50281d325bd7e99661ef5c60_cgraph" alt=""/></div>
<map name="dbbase_8cpp_aec7bbc2b50281d325bd7e99661ef5c60_cgraph" id="dbbase_8cpp_aec7bbc2b50281d325bd7e99661ef5c60_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="140,5,249,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_aec7bbc2b50281d325bd7e99661ef5c60_icgraph.png" border="0" usemap="#dbbase_8cpp_aec7bbc2b50281d325bd7e99661ef5c60_icgraph" alt=""/></div>
<map name="dbbase_8cpp_aec7bbc2b50281d325bd7e99661ef5c60_icgraph" id="dbbase_8cpp_aec7bbc2b50281d325bd7e99661ef5c60_icgraph">
<area shape="rect" id="node3" href="dbbase_8h.html#a21f3b1ac4424fa0839c3182b0ab7cbd8" title="insert_db_rtu 注册设备接口 ，将设备写入数据库" alt="" coords="140,5,236,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="af89ddd8c208010e4477750f84849f9bf"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::string get_table_name </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_8h.html#af84840501dec18061d18a68c162a8fa2">Uint8</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>get_table_name 根据设备类型 拿到对应的表名 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>设备类型 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>表名 为 string 类型 </dd></dl>

<p>References <a class="el" href="dbbase_8h.html#ac2df31f33e94cc162663baba3e3a120a">gTypeInfoList</a>, and <a class="el" href="structDBTypeInfo.html#a3a9028d289827ded68629db2457b3452">DBTypeInfo::tablename</a>.</p>

<p>Referenced by <a class="el" href="dbbase_8h.html#adfa21954b5a414041dffb59dd549dcb8">delete_db_rtu()</a>, <a class="el" href="dbbase_8h.html#a21f3b1ac4424fa0839c3182b0ab7cbd8">insert_db_rtu()</a>, <a class="el" href="dbbase_8h.html#a81cfc05e7763f268740f8a27f85b77de">update_db_exnativertu()</a>, <a class="el" href="dbbase_8h.html#a82757fe4298d8fdf297391a4e42e3293">update_db_host()</a>, <a class="el" href="dbbase_8h.html#ad42e211ca6c04241e68331f73c74113c">update_db_rtuinfo()</a>, and <a class="el" href="dbbase_8h.html#ae0e36aa1334e0b83d2e2edd95a89b5b2">update_db_safetyrtu()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_af89ddd8c208010e4477750f84849f9bf_icgraph.png" border="0" usemap="#dbbase_8cpp_af89ddd8c208010e4477750f84849f9bf_icgraph" alt=""/></div>
<map name="dbbase_8cpp_af89ddd8c208010e4477750f84849f9bf_icgraph" id="dbbase_8cpp_af89ddd8c208010e4477750f84849f9bf_icgraph">
<area shape="rect" id="node3" href="dbbase_8h.html#adfa21954b5a414041dffb59dd549dcb8" title="delete_db_rtu 删除设备 接口 不包括删除主机" alt="" coords="196,5,295,35"/><area shape="rect" id="node7" href="dbbase_8h.html#a21f3b1ac4424fa0839c3182b0ab7cbd8" title="insert_db_rtu 注册设备接口 ，将设备写入数据库" alt="" coords="197,59,293,88"/><area shape="rect" id="node9" href="dbbase_8h.html#a81cfc05e7763f268740f8a27f85b77de" title="update_db_exnativertu 更新智能床" alt="" coords="169,112,321,141"/><area shape="rect" id="node11" href="dbbase_8h.html#a82757fe4298d8fdf297391a4e42e3293" title="update_db_host 更新主机信息表" alt="" coords="188,165,303,195"/><area shape="rect" id="node13" href="dbbase_8h.html#ad42e211ca6c04241e68331f73c74113c" title="update_db_rtuinfo 用户设备信息编辑" alt="" coords="183,219,308,248"/><area shape="rect" id="node15" href="dbbase_8h.html#ae0e36aa1334e0b83d2e2edd95a89b5b2" title="update_db_safetyrtu 更新安防设备" alt="" coords="176,272,315,301"/><area shape="rect" id="node5" href="sql_8cpp.html#abf9e6b7e6f15df4b525a2e7705ba3089" title="main" alt="" coords="371,5,421,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a45ba5638ae09b4ccca4dbe1bdb6bf89a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int GetHostCount </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GetHostCount 拿到 连接上来的主机个数 </p>
<dl class="section return"><dt>Returns</dt><dd>主机个数 </dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6">check_connect()</a>, <a class="el" href="base_8h.html#a1f953b078595aed0c003eda86c62bde2">LOG_DEBUG</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, and <a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a45ba5638ae09b4ccca4dbe1bdb6bf89a_cgraph.png" border="0" usemap="#dbbase_8cpp_a45ba5638ae09b4ccca4dbe1bdb6bf89a_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a45ba5638ae09b4ccca4dbe1bdb6bf89a_cgraph" id="dbbase_8cpp_a45ba5638ae09b4ccca4dbe1bdb6bf89a_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="161,5,271,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a645417f4347afad166d95e919bf778de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8h.html#a60cf7b3c038ce37a50796e8eaddf0b5f">Uint32</a> GetHostIdByName </td>
          <td>(</td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>hostname</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_8h.html#a60cf7b3c038ce37a50796e8eaddf0b5f">Uint32</a> &amp;&#160;</td>
          <td class="paramname"><em>hostid</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>GetHostIdByName 根据主机名查找对应的ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hostname</td><td>主机名 </td></tr>
    <tr><td class="paramname">hostid</td><td>找到的hostadd放入该参数</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 查找错误 0 查找正确 </dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6">check_connect()</a>, <a class="el" href="base_8h.html#a1f953b078595aed0c003eda86c62bde2">LOG_DEBUG</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, and <a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a645417f4347afad166d95e919bf778de_cgraph.png" border="0" usemap="#dbbase_8cpp_a645417f4347afad166d95e919bf778de_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a645417f4347afad166d95e919bf778de_cgraph" id="dbbase_8cpp_a645417f4347afad166d95e919bf778de_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="188,5,297,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa1165b8a3c5a7d095576c678f94268f3"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="base_8h.html#a60cf7b3c038ce37a50796e8eaddf0b5f">Uint32</a> GetIpByHostAdd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_8h.html#a60cf7b3c038ce37a50796e8eaddf0b5f">Uint32</a>&#160;</td>
          <td class="paramname"><em>hostadd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_8h.html#a60cf7b3c038ce37a50796e8eaddf0b5f">Uint32</a> &amp;&#160;</td>
          <td class="paramname"><em>hostip</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>根据 hostadd 拿到 ip </p>

<p>References <a class="el" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6">check_connect()</a>, <a class="el" href="base_8h.html#a1f953b078595aed0c003eda86c62bde2">LOG_DEBUG</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, and <a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_aa1165b8a3c5a7d095576c678f94268f3_cgraph.png" border="0" usemap="#dbbase_8cpp_aa1165b8a3c5a7d095576c678f94268f3_cgraph" alt=""/></div>
<map name="dbbase_8cpp_aa1165b8a3c5a7d095576c678f94268f3_cgraph" id="dbbase_8cpp_aa1165b8a3c5a7d095576c678f94268f3_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="177,5,287,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="affefb171c935f2ae5832d0ca8091798f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int init_mysql </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structMysqlConInfo.html">MysqlConInfo</a> *&#160;</td>
          <td class="paramname"><em>info</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>init_mysql 初始化mysql , 连接，指定数据库 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">info</td><td>连接mysql时，mysql相关信息结构体</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 成功 -1 失败 </dd></dl>

<p>References <a class="el" href="structMysqlConInfo.html#a82550a94a5bc9800f388752f01964c1c">MysqlConInfo::dbname</a>, <a class="el" href="structMysqlConInfo.html#a9382fdbd16ae319c1ad0a76b2362bd46">MysqlConInfo::hostname</a>, <a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a>, <a class="el" href="structMysqlConInfo.html#a429e8aae687715a9ec374435c026f939">MysqlConInfo::password</a>, and <a class="el" href="structMysqlConInfo.html#a2753d5c9d81aba6435ad503db842775d">MysqlConInfo::username</a>.</p>

<p>Referenced by <a class="el" href="sql_8cpp.html#abf9e6b7e6f15df4b525a2e7705ba3089">main()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_affefb171c935f2ae5832d0ca8091798f_icgraph.png" border="0" usemap="#dbbase_8cpp_affefb171c935f2ae5832d0ca8091798f_icgraph" alt=""/></div>
<map name="dbbase_8cpp_affefb171c935f2ae5832d0ca8091798f_icgraph" id="dbbase_8cpp_affefb171c935f2ae5832d0ca8091798f_icgraph">
<area shape="rect" id="node3" href="sql_8cpp.html#abf9e6b7e6f15df4b525a2e7705ba3089" title="main" alt="" coords="136,5,187,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a62123b0c0b89cfe644b8e040a4fe2a3b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int insert_db_apprtu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAppRtuInfo.html">AppRtuInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>rtuinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>insert_db_apprtu 添加，编辑 应用设备 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtuinfo</td><td>应用设备结构体</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="dbbase_8h.html#ae0812aa7c56834e9de7e2535d62701e6">DB_TABLE_NAMELIST</a>, <a class="el" href="dbbase_8cpp.html#ac9d1db67754ebd6ac53cd4ce185a22cd">DupicateKeyUpdateQuery()</a>, <a class="el" href="structAppRtuInfo.html#a15bdb2e241557f3f7326f35e1599568a">AppRtuInfo::hostadd</a>, <a class="el" href="structAppRtuInfo.html#a8b72cfd3f9a68f1350484b373da647ab">AppRtuInfo::irrtuadd</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, <a class="el" href="dbbase_8h.html#afec5109c9a49125c493619b015292bb0a728528e69f50f43e0a6bd9465ff213f2">RTU_STATE_VALID</a>, <a class="el" href="structAppRtuInfo.html#acbf93c9e6fd07ac0a29f9596d9e59225">AppRtuInfo::rtuadd</a>, <a class="el" href="structAppRtuInfo.html#a55eac142ebeb6bb83b34eb6aaf075991">AppRtuInfo::rtuname</a>, <a class="el" href="structAppRtuInfo.html#af67db23fe4859da9266c4de6e0ae0a0f">AppRtuInfo::rturegtime</a>, and <a class="el" href="structAppRtuInfo.html#ac1276ea402781dd4b37db5a8e42cc4ed">AppRtuInfo::rtutype</a>.</p>

<p>Referenced by <a class="el" href="dbbase_8h.html#a8b214bd5c7dbfef30ac417954cb0c5e2">update_db_apprtu()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a62123b0c0b89cfe644b8e040a4fe2a3b_cgraph.png" border="0" usemap="#dbbase_8cpp_a62123b0c0b89cfe644b8e040a4fe2a3b_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a62123b0c0b89cfe644b8e040a4fe2a3b_cgraph" id="dbbase_8cpp_a62123b0c0b89cfe644b8e040a4fe2a3b_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#ac9d1db67754ebd6ac53cd4ce185a22cd" title="DupicateKeyUpdateQuery 更新、插入查询：存在则更新不存在则插入" alt="" coords="175,5,348,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="399,5,508,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a62123b0c0b89cfe644b8e040a4fe2a3b_icgraph.png" border="0" usemap="#dbbase_8cpp_a62123b0c0b89cfe644b8e040a4fe2a3b_icgraph" alt=""/></div>
<map name="dbbase_8cpp_a62123b0c0b89cfe644b8e040a4fe2a3b_icgraph" id="dbbase_8cpp_a62123b0c0b89cfe644b8e040a4fe2a3b_icgraph">
<area shape="rect" id="node3" href="dbbase_8h.html#a8b214bd5c7dbfef30ac417954cb0c5e2" title="update_db_apprtu 修改应用设备" alt="" coords="173,5,299,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a9acb52e4299badf813180da0f8214c37"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int insert_db_host </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structHostRegInfo.html">HostRegInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>hostinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>insert_db_host 主机注册接口 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hostinfo</td><td>主机信息结构体</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 插入失败 0 插入成功 &gt;0 主机名字已经存在 </dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#ae3ea82d0883ed39d63abe2f2e5cde42f">db_insert_query()</a>, <a class="el" href="dbbase_8h.html#ae0812aa7c56834e9de7e2535d62701e6">DB_TABLE_NAMELIST</a>, <a class="el" href="dbbase_8cpp.html#a7748ddce59655cc11534b75d5e0956d4">findHostname()</a>, <a class="el" href="structHostRegInfo.html#a3b304abdc867e6ac1d510ccec832e844">HostRegInfo::hostadd</a>, <a class="el" href="structHostRegInfo.html#ac2a4fc92c30a444b52fca1fd0589a027">HostRegInfo::hostip</a>, <a class="el" href="structHostRegInfo.html#abaad6f194144e79d59f3f50e7eb078af">HostRegInfo::hostname</a>, <a class="el" href="structHostRegInfo.html#a19bb5479f6700b3eafb505d4cb16bf11">HostRegInfo::hostpwd</a>, <a class="el" href="structHostRegInfo.html#aae80f759cd5835a9b695f2707a1b60e4">HostRegInfo::hostregtime</a>, <a class="el" href="structHostRegInfo.html#a20b46c33f6aed2a9d4e11ae3f2ec2cee">HostRegInfo::lastcomtime</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, <a class="el" href="base_8h.html#aa7558f9398d2befa813c73e131e8bdcf">LOG_PRINT</a>, and <a class="el" href="dbbase_8h.html#afec5109c9a49125c493619b015292bb0a728528e69f50f43e0a6bd9465ff213f2">RTU_STATE_VALID</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a9acb52e4299badf813180da0f8214c37_cgraph.png" border="0" usemap="#dbbase_8cpp_a9acb52e4299badf813180da0f8214c37_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a9acb52e4299badf813180da0f8214c37_cgraph" id="dbbase_8cpp_a9acb52e4299badf813180da0f8214c37_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#ae3ea82d0883ed39d63abe2f2e5cde42f" title="db_insert_query 数据库插入" alt="" coords="160,59,275,88"/><area shape="rect" id="node9" href="dbbase_8cpp.html#a7748ddce59655cc11534b75d5e0956d4" title="findHostname 查找对应的主机名" alt="" coords="167,5,268,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="324,5,433,35"/><area shape="rect" id="node7" href="dbbase_8cpp.html#afe0ea3530d4cbbbf870292d37df7ac9e" title="insert_mysql 数据库基本插入操作" alt="" coords="331,59,427,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a21f3b1ac4424fa0839c3182b0ab7cbd8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int insert_db_rtu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRtuRegInfo.html">RtuRegInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>rtuinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>insert_db_rtu 注册设备接口 ，将设备写入数据库 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtuinfo</td><td>插入设备结构体</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>-1 插入失败 0 插入成功 </dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#ae3ea82d0883ed39d63abe2f2e5cde42f">db_insert_query()</a>, <a class="el" href="dbbase_8h.html#ae0812aa7c56834e9de7e2535d62701e6">DB_TABLE_NAMELIST</a>, <a class="el" href="dbbase_8cpp.html#aec7bbc2b50281d325bd7e99661ef5c60">findRtuadd()</a>, <a class="el" href="dbbase_8cpp.html#af89ddd8c208010e4477750f84849f9bf">get_table_name()</a>, <a class="el" href="structRtuRegInfo.html#a3a9169b06ae6cdef4716b9ce96e2effb">RtuRegInfo::hostadd</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, <a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a>, <a class="el" href="structRtuRegInfo.html#a11bec18706037da6d0d8893a3f6ecc8c">RtuRegInfo::rtuadd</a>, <a class="el" href="structRtuRegInfo.html#a1f2c3c801990368f9dad237d7d7be01c">RtuRegInfo::rturegtime</a>, <a class="el" href="structRtuRegInfo.html#af41795f7f1ce079734677e5e6fa77573">RtuRegInfo::rtustate</a>, and <a class="el" href="structRtuRegInfo.html#ac8d17922e46094960fb8c88d9ad370c5">RtuRegInfo::rtutype</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a21f3b1ac4424fa0839c3182b0ab7cbd8_cgraph.png" border="0" usemap="#dbbase_8cpp_a21f3b1ac4424fa0839c3182b0ab7cbd8_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a21f3b1ac4424fa0839c3182b0ab7cbd8_cgraph" id="dbbase_8cpp_a21f3b1ac4424fa0839c3182b0ab7cbd8_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#ae3ea82d0883ed39d63abe2f2e5cde42f" title="db_insert_query 数据库插入" alt="" coords="152,59,267,88"/><area shape="rect" id="node9" href="dbbase_8cpp.html#aec7bbc2b50281d325bd7e99661ef5c60" title="findRtuadd" alt="" coords="167,5,252,35"/><area shape="rect" id="node12" href="dbbase_8cpp.html#af89ddd8c208010e4477750f84849f9bf" title="get_table_name 根据设备类型 拿到对应的表名" alt="" coords="152,112,267,141"/><area shape="rect" id="node5" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="316,5,425,35"/><area shape="rect" id="node7" href="dbbase_8cpp.html#afe0ea3530d4cbbbf870292d37df7ac9e" title="insert_mysql 数据库基本插入操作" alt="" coords="323,59,419,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad9cd8d3ab8c7385eceb3280b5f910b2a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int insert_db_sceneinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSceneInfo.html">SceneInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>sceneinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>insert_db_sceneinfo 创建、修改情景 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sceneinfo</td><td>情景信息结构体 绑定的设备信息需要malloc后传入</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="structRtuBind.html#a68a5063b5ae740267f3d8d72f1400c6e">RtuBind::add</a>, <a class="el" href="dbbase_8h.html#ae0812aa7c56834e9de7e2535d62701e6">DB_TABLE_NAMELIST</a>, <a class="el" href="structRtuBind.html#aa231213efdd49f97effe6b5dc9f4a243">RtuBind::delay</a>, <a class="el" href="dbbase_8cpp.html#ac9d1db67754ebd6ac53cd4ce185a22cd">DupicateKeyUpdateQuery()</a>, <a class="el" href="structSceneInfo.html#a71c350f2eecece851424fb6d41f3d0e1">SceneInfo::hostadd</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, <a class="el" href="structRtuBind.html#ac466a6951df3423d75ab25ce3accede3">RtuBind::oper</a>, <a class="el" href="structSceneInfo.html#a04797a4b852763ec79262575bb8d3f67">SceneInfo::rtubind</a>, <a class="el" href="structSceneInfo.html#ac27ed61e7e699160d08904fb2abfdb95">SceneInfo::rturegtime</a>, <a class="el" href="structSceneInfo.html#a647950844b5a2503b7c79171273eddbc">SceneInfo::sceneid</a>, <a class="el" href="structSceneInfo.html#a802bb02389ef76cdb6c30676eb65148b">SceneInfo::scenename</a>, <a class="el" href="structSceneInfo.html#affa07c03b993f4fee2824da9bf11da25">SceneInfo::scenepicid</a>, <a class="el" href="structSceneInfo.html#afebc902163663be26075199ba2c97d5d">SceneInfo::scenertunum</a>, and <a class="el" href="structRtuBind.html#ab9f60247ea34410bf323084c15435d65">RtuBind::type</a>.</p>

<p>Referenced by <a class="el" href="dbbase_8h.html#aedbae4394a0f4e1fc8f6eabee7e355c2">update_db_sceneinfo()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_ad9cd8d3ab8c7385eceb3280b5f910b2a_cgraph.png" border="0" usemap="#dbbase_8cpp_ad9cd8d3ab8c7385eceb3280b5f910b2a_cgraph" alt=""/></div>
<map name="dbbase_8cpp_ad9cd8d3ab8c7385eceb3280b5f910b2a_cgraph" id="dbbase_8cpp_ad9cd8d3ab8c7385eceb3280b5f910b2a_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#ac9d1db67754ebd6ac53cd4ce185a22cd" title="DupicateKeyUpdateQuery 更新、插入查询：存在则更新不存在则插入" alt="" coords="193,5,367,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="417,5,527,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_ad9cd8d3ab8c7385eceb3280b5f910b2a_icgraph.png" border="0" usemap="#dbbase_8cpp_ad9cd8d3ab8c7385eceb3280b5f910b2a_icgraph" alt=""/></div>
<map name="dbbase_8cpp_ad9cd8d3ab8c7385eceb3280b5f910b2a_icgraph" id="dbbase_8cpp_ad9cd8d3ab8c7385eceb3280b5f910b2a_icgraph">
<area shape="rect" id="node3" href="dbbase_8h.html#aedbae4394a0f4e1fc8f6eabee7e355c2" title="update_db_sceneinfo 修改 情景" alt="" coords="193,5,337,35"/><area shape="rect" id="node5" href="sql_8cpp.html#abf9e6b7e6f15df4b525a2e7705ba3089" title="main" alt="" coords="387,5,437,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a0eb771b638f26a87a9cce0c7de472f0f"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int insert_db_taskinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTaskInfo.html">TaskInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>taskinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>insert_db_taskinfo 设置 编辑定时任务 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">taskinfo</td><td>任务信息 绑定的设备信息需要malloc后传入 </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structRtuBind.html#a68a5063b5ae740267f3d8d72f1400c6e">RtuBind::add</a>, <a class="el" href="dbbase_8h.html#ae0812aa7c56834e9de7e2535d62701e6">DB_TABLE_NAMELIST</a>, <a class="el" href="structRtuBind.html#aa231213efdd49f97effe6b5dc9f4a243">RtuBind::delay</a>, <a class="el" href="dbbase_8cpp.html#ac9d1db67754ebd6ac53cd4ce185a22cd">DupicateKeyUpdateQuery()</a>, <a class="el" href="structTaskInfo.html#a633cb279d0c214d3eba9da3d26f5a020">TaskInfo::hostadd</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, <a class="el" href="structRtuBind.html#ac466a6951df3423d75ab25ce3accede3">RtuBind::oper</a>, <a class="el" href="structTaskInfo.html#abcd620f1a510696638104149f8c06e2c">TaskInfo::rtubind</a>, <a class="el" href="structTaskInfo.html#a585a387b5d639defa31bb8511d0c3b48">TaskInfo::taskcycle</a>, <a class="el" href="structTaskInfo.html#a27224eae1effa0e80bc2fa52dde59692">TaskInfo::taskid</a>, <a class="el" href="structTaskInfo.html#a93bbd541a14b0eb3be4d81df457f53c0">TaskInfo::taskname</a>, <a class="el" href="structTaskInfo.html#ab853cd6598db69ad460ab8ae9efa49b6">TaskInfo::taskpicid</a>, <a class="el" href="structTaskInfo.html#af4123b5a228c33d071e00474447e3a7b">TaskInfo::taskregtime</a>, <a class="el" href="structTaskInfo.html#a0bfa1e0ae661b9841bd77b14b8002c2a">TaskInfo::taskrtunum</a>, <a class="el" href="structTaskInfo.html#a82ca17b1ed9c9059cf624032fd25a15d">TaskInfo::taskstdtime</a>, and <a class="el" href="structRtuBind.html#ab9f60247ea34410bf323084c15435d65">RtuBind::type</a>.</p>

<p>Referenced by <a class="el" href="dbbase_8h.html#a659d4acf9f3d7a1b013867717905c198">update_db_taskinfo()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a0eb771b638f26a87a9cce0c7de472f0f_cgraph.png" border="0" usemap="#dbbase_8cpp_a0eb771b638f26a87a9cce0c7de472f0f_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a0eb771b638f26a87a9cce0c7de472f0f_cgraph" id="dbbase_8cpp_a0eb771b638f26a87a9cce0c7de472f0f_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#ac9d1db67754ebd6ac53cd4ce185a22cd" title="DupicateKeyUpdateQuery 更新、插入查询：存在则更新不存在则插入" alt="" coords="183,5,356,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="407,5,516,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a0eb771b638f26a87a9cce0c7de472f0f_icgraph.png" border="0" usemap="#dbbase_8cpp_a0eb771b638f26a87a9cce0c7de472f0f_icgraph" alt=""/></div>
<map name="dbbase_8cpp_a0eb771b638f26a87a9cce0c7de472f0f_icgraph" id="dbbase_8cpp_a0eb771b638f26a87a9cce0c7de472f0f_icgraph">
<area shape="rect" id="node3" href="dbbase_8h.html#a659d4acf9f3d7a1b013867717905c198" title="update_db_taskinfo 编辑定时任务" alt="" coords="183,5,316,35"/><area shape="rect" id="node5" href="sql_8cpp.html#abf9e6b7e6f15df4b525a2e7705ba3089" title="main" alt="" coords="365,5,416,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afe0ea3530d4cbbbf870292d37df7ac9e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int insert_mysql </td>
          <td>(</td>
          <td class="paramtype">string&#160;</td>
          <td class="paramname"><em>sql_cmd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>insert_mysql 数据库基本插入操作 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sql_cmd</td><td>插入命令 为string 类型 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, and <a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a>.</p>

<p>Referenced by <a class="el" href="dbbase_8cpp.html#ae3ea82d0883ed39d63abe2f2e5cde42f">db_insert_query()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_afe0ea3530d4cbbbf870292d37df7ac9e_icgraph.png" border="0" usemap="#dbbase_8cpp_afe0ea3530d4cbbbf870292d37df7ac9e_icgraph" alt=""/></div>
<map name="dbbase_8cpp_afe0ea3530d4cbbbf870292d37df7ac9e_icgraph" id="dbbase_8cpp_afe0ea3530d4cbbbf870292d37df7ac9e_icgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#ae3ea82d0883ed39d63abe2f2e5cde42f" title="db_insert_query 数据库插入" alt="" coords="149,32,264,61"/><area shape="rect" id="node5" href="dbbase_8h.html#a9acb52e4299badf813180da0f8214c37" title="insert_db_host 主机注册接口" alt="" coords="312,5,419,35"/><area shape="rect" id="node7" href="dbbase_8h.html#a21f3b1ac4424fa0839c3182b0ab7cbd8" title="insert_db_rtu 注册设备接口 ，将设备写入数据库" alt="" coords="317,59,413,88"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a55f5cb081a0fc3774070718f283746d6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IsNativeRtu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_8h.html#af84840501dec18061d18a68c162a8fa2">Uint8</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IsNativeRtu 查看某设备是否是常规设备 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>设备类型</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true or false </dd></dl>

<p>References <a class="el" href="dbbase_8h.html#aaa53b0895b2ab0fcf07391ac59c2a775">RTU_TYPE_CTRLBOX</a>, <a class="el" href="dbbase_8h.html#a9570babe61ff0e57b4599cb5b73c48fb">RTU_TYPE_CURTAIN</a>, <a class="el" href="dbbase_8h.html#a4dd9a3011fd8aedf02308903c9129cc7">RTU_TYPE_PLUG</a>, <a class="el" href="dbbase_8h.html#afa871f118a4976960003db5923b783b3">RTU_TYPE_RGB</a>, <a class="el" href="dbbase_8h.html#ab9e97b016d165c0848d9e26dbb732bb5">RTU_TYPE_ROBTIC</a>, and <a class="el" href="dbbase_8h.html#aed90f514e1e21d48002da1e555617aab">RTU_TYPE_SWITCH</a>.</p>

<p>Referenced by <a class="el" href="dbbase_8h.html#ad42e211ca6c04241e68331f73c74113c">update_db_rtuinfo()</a>.</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a55f5cb081a0fc3774070718f283746d6_icgraph.png" border="0" usemap="#dbbase_8cpp_a55f5cb081a0fc3774070718f283746d6_icgraph" alt=""/></div>
<map name="dbbase_8cpp_a55f5cb081a0fc3774070718f283746d6_icgraph" id="dbbase_8cpp_a55f5cb081a0fc3774070718f283746d6_icgraph">
<area shape="rect" id="node3" href="dbbase_8h.html#ad42e211ca6c04241e68331f73c74113c" title="update_db_rtuinfo 用户设备信息编辑" alt="" coords="147,5,272,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae130c9ff11734f9b283c749b1c682659"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool IsSafetyRtu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="base_8h.html#af84840501dec18061d18a68c162a8fa2">Uint8</a>&#160;</td>
          <td class="paramname"><em>type</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>IsSafetyRtu 查看某设备是否是安防设备 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">type</td><td>设备类型</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>true or false </dd></dl>

<p>References <a class="el" href="dbbase_8h.html#a7bd5a16f13b698e65ddb74512dbe3a66">RTU_TYPE_DOORBELL</a>, <a class="el" href="dbbase_8h.html#ac058536e995f3b3bee62f55f09b1c173">RTU_TYPE_DOORCONTACT</a>, <a class="el" href="dbbase_8h.html#a2509d905cb6eac619dceb509307e73fe">RTU_TYPE_DOORLOCK</a>, and <a class="el" href="dbbase_8h.html#ad4d8ed4e32dd5fb1c51c108cca3a8554">RTU_TYPE_IRPROBE</a>.</p>

</div>
</div>
<a class="anchor" id="a334c4412fa09aab89d49cefdfd233b04"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int select_db_hostinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structHostRegInfo.html">HostRegInfo</a> *&#160;</td>
          <td class="paramname"><em>pHostinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&#160;</td>
          <td class="paramname"><em>hostname</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>select_db_hostinfo 根据主机名 查询主机信息 ，用于 APP远程登陆 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pHostinfo</td><td></td></tr>
    <tr><td class="paramname">hostname</td><td>HostAdd,HostPwd,HostIp,HostState,LastComTime </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>返回值 -1 错误 0 正确 1 没有数据 </dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a7f355040a91d1275a6ac9a9490025717">db_select_query()</a>, <a class="el" href="dbbase_8h.html#ae0812aa7c56834e9de7e2535d62701e6">DB_TABLE_NAMELIST</a>, <a class="el" href="structHostRegInfo.html#a3b304abdc867e6ac1d510ccec832e844">HostRegInfo::hostadd</a>, <a class="el" href="structHostRegInfo.html#ac2a4fc92c30a444b52fca1fd0589a027">HostRegInfo::hostip</a>, <a class="el" href="structHostRegInfo.html#a19bb5479f6700b3eafb505d4cb16bf11">HostRegInfo::hostpwd</a>, <a class="el" href="structHostRegInfo.html#a6f478e420e2736db1408a6dcd4927e8f">HostRegInfo::hoststate</a>, <a class="el" href="structHostRegInfo.html#a20b46c33f6aed2a9d4e11ae3f2ec2cee">HostRegInfo::lastcomtime</a>, <a class="el" href="base_8h.html#a1f953b078595aed0c003eda86c62bde2">LOG_DEBUG</a>, and <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a334c4412fa09aab89d49cefdfd233b04_cgraph.png" border="0" usemap="#dbbase_8cpp_a334c4412fa09aab89d49cefdfd233b04_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a334c4412fa09aab89d49cefdfd233b04_cgraph" id="dbbase_8cpp_a334c4412fa09aab89d49cefdfd233b04_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a7f355040a91d1275a6ac9a9490025717" title="db_select_query 查找操作" alt="" coords="184,5,301,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#acdefe48f4a7a750062898c54c5ecd356" title="select_query 查找操作" alt="" coords="349,5,445,35"/><area shape="rect" id="node7" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="495,5,604,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="acdefe48f4a7a750062898c54c5ecd356"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static int select_query </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>sql</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">string &amp;&#160;</td>
          <td class="paramname"><em>retstr</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>select_query 查找操作 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">sql</td><td>查找sql 命令 </td></tr>
    <tr><td class="paramname">retstr</td><td>返回列字段，以逗号隔开</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6">check_connect()</a>, <a class="el" href="base_8h.html#a1f953b078595aed0c003eda86c62bde2">LOG_DEBUG</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, and <a class="el" href="dbbase_8cpp.html#a513b454acfc51fb3100e5a8ad0535b50">m_mysqlfd</a>.</p>

<p>Referenced by <a class="el" href="dbbase_8cpp.html#a7f355040a91d1275a6ac9a9490025717">db_select_query()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_acdefe48f4a7a750062898c54c5ecd356_cgraph.png" border="0" usemap="#dbbase_8cpp_acdefe48f4a7a750062898c54c5ecd356_cgraph" alt=""/></div>
<map name="dbbase_8cpp_acdefe48f4a7a750062898c54c5ecd356_cgraph" id="dbbase_8cpp_acdefe48f4a7a750062898c54c5ecd356_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="151,5,260,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_acdefe48f4a7a750062898c54c5ecd356_icgraph.png" border="0" usemap="#dbbase_8cpp_acdefe48f4a7a750062898c54c5ecd356_icgraph" alt=""/></div>
<map name="dbbase_8cpp_acdefe48f4a7a750062898c54c5ecd356_icgraph" id="dbbase_8cpp_acdefe48f4a7a750062898c54c5ecd356_icgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a7f355040a91d1275a6ac9a9490025717" title="db_select_query 查找操作" alt="" coords="149,59,267,88"/><area shape="rect" id="node5" href="dbbase_8h.html#a334c4412fa09aab89d49cefdfd233b04" title="select_db_hostinfo 根据主机名 查询主机信息 ，用于 APP远程登陆" alt="" coords="324,5,455,35"/><area shape="rect" id="node7" href="dbbase_8h.html#a5f38e8abcbb787b6fed1c8e1dce1c7c2" title="update_db_hostname 用户管理" alt="" coords="316,59,463,88"/><area shape="rect" id="node9" href="dbbase_8h.html#afe8cc79a0b360aa2a371f266709451e8" title="update_db_safetypwd 门锁密码更新接口 包括新开锁密码添加，修改 管理员密码修改" alt="" coords="315,112,464,141"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a8b214bd5c7dbfef30ac417954cb0c5e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_db_apprtu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structAppRtuInfo.html">AppRtuInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>rtuinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update_db_apprtu 修改应用设备 </p>

<p>References <a class="el" href="dbbase_8cpp.html#a62123b0c0b89cfe644b8e040a4fe2a3b">insert_db_apprtu()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a8b214bd5c7dbfef30ac417954cb0c5e2_cgraph.png" border="0" usemap="#dbbase_8cpp_a8b214bd5c7dbfef30ac417954cb0c5e2_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a8b214bd5c7dbfef30ac417954cb0c5e2_cgraph" id="dbbase_8cpp_a8b214bd5c7dbfef30ac417954cb0c5e2_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a62123b0c0b89cfe644b8e040a4fe2a3b" title="insert_db_apprtu 添加，编辑 应用设备" alt="" coords="180,5,297,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#ac9d1db67754ebd6ac53cd4ce185a22cd" title="DupicateKeyUpdateQuery 更新、插入查询：存在则更新不存在则插入" alt="" coords="348,5,521,35"/><area shape="rect" id="node7" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="572,5,681,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a35e1056e0f46576bda26dabc59ce0ded"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_db_detectorbind </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDetectorBind.html">DetectorBind</a> &amp;&#160;</td>
          <td class="paramname"><em>rtuinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update_db_detectorbind 绑定联动接口 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtuinfo</td><td>绑定的设备信息需要malloc后传入 </td></tr>
  </table>
  </dd>
</dl>

<p>References <a class="el" href="structRtuBind.html#a68a5063b5ae740267f3d8d72f1400c6e">RtuBind::add</a>, <a class="el" href="structDetectorBind.html#aeb689d428cfe88f8f3f1402bf7f56e2e">DetectorBind::bind_num</a>, <a class="el" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb">db_update_query()</a>, <a class="el" href="structRtuBind.html#aa231213efdd49f97effe6b5dc9f4a243">RtuBind::delay</a>, <a class="el" href="structDetectorBind.html#aafe967553a211b4b4659d5eb8503f01a">DetectorBind::hostadd</a>, <a class="el" href="structDetectorBind.html#af1ee9714c6d13cb58952b8ac210de246">DetectorBind::level</a>, <a class="el" href="structRtuBind.html#ac466a6951df3423d75ab25ce3accede3">RtuBind::oper</a>, <a class="el" href="structDetectorBind.html#ac36a0d856c55e3567781683860435cdd">DetectorBind::rtuadd</a>, <a class="el" href="structDetectorBind.html#a051da44e061843becfc64dd40e8a2d75">DetectorBind::rtubind</a>, and <a class="el" href="structRtuBind.html#ab9f60247ea34410bf323084c15435d65">RtuBind::type</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a35e1056e0f46576bda26dabc59ce0ded_cgraph.png" border="0" usemap="#dbbase_8cpp_a35e1056e0f46576bda26dabc59ce0ded_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a35e1056e0f46576bda26dabc59ce0ded_cgraph" id="dbbase_8cpp_a35e1056e0f46576bda26dabc59ce0ded_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb" title="db_update_query 更新查询" alt="" coords="215,5,335,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="385,5,495,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aa039ebdc57c1a8157a01c9a762f43bc6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_db_detectorrtu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structDetectorRtu.html">DetectorRtu</a> &amp;&#160;</td>
          <td class="paramname"><em>rtuinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_8h.html#af84840501dec18061d18a68c162a8fa2">Uint8</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update_db_detectorrtu 更新传感器设备 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtuinfo</td><td></td></tr>
    <tr><td class="paramname">mode</td><td>模式 0 更新 val 值 1 更新联动标志，阈值 更新val : 传入 val数组值 ,默认为0 更新联动标志： 传入 flag ,downval ,upval </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb">db_update_query()</a>, <a class="el" href="structDetectorRtu.html#a2d98ee3ad1fe130208268ee868dc5dab">DetectorRtu::detectorinfo</a>, <a class="el" href="structDetectorInfo.html#a7022303e238f95e44dbd3eea3a690270">DetectorInfo::downval</a>, <a class="el" href="structDetectorInfo.html#a97a917f0d89a2aef284980b3c5c5ea7a">DetectorInfo::flag</a>, <a class="el" href="structRtuRegInfo.html#a3a9169b06ae6cdef4716b9ce96e2effb">RtuRegInfo::hostadd</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, <a class="el" href="structRtuRegInfo.html#a11bec18706037da6d0d8893a3f6ecc8c">RtuRegInfo::rtuadd</a>, <a class="el" href="structDetectorRtu.html#a0cc8bb5f4b4f63380fabd7d7e6c82849">DetectorRtu::rtuinfo</a>, <a class="el" href="structDetectorInfo.html#adb7255552b8dfb9eb1506fdd8d6c8105">DetectorInfo::upval</a>, <a class="el" href="structDetectorInfo.html#a413c1a19e7600530e457efbf839df865">DetectorInfo::val</a>, and <a class="el" href="structDetectorRtu.html#a0b30b25acdbd4d7dc62ac9b50daf64f0">DetectorRtu::valtype</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_aa039ebdc57c1a8157a01c9a762f43bc6_cgraph.png" border="0" usemap="#dbbase_8cpp_aa039ebdc57c1a8157a01c9a762f43bc6_cgraph" alt=""/></div>
<map name="dbbase_8cpp_aa039ebdc57c1a8157a01c9a762f43bc6_cgraph" id="dbbase_8cpp_aa039ebdc57c1a8157a01c9a762f43bc6_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb" title="db_update_query 更新查询" alt="" coords="207,5,327,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="377,5,487,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a81cfc05e7763f268740f8a27f85b77de"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_db_exnativertu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structExNativeRtu.html">ExNativeRtu</a> &amp;&#160;</td>
          <td class="paramname"><em>rtuinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update_db_exnativertu 更新智能床 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtuinfo</td><td>控制 ： relayinfo 数组 中val值传入 床头位置（1） 床尾位置（1） 床头振动（1） 床尾振动（1） 灯状态（1）：0x00表示关灯，0x01表示开灯 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb">db_update_query()</a>, <a class="el" href="dbbase_8cpp.html#af89ddd8c208010e4477750f84849f9bf">get_table_name()</a>, <a class="el" href="structRtuRegInfo.html#a3a9169b06ae6cdef4716b9ce96e2effb">RtuRegInfo::hostadd</a>, <a class="el" href="structExNativeRtu.html#a8bff0a97f7771458d2ab36a2854d7247">ExNativeRtu::relayinfo</a>, <a class="el" href="dbbase_8h.html#af2fd88a1eb8ff4c2bffbb73639b393d5">RTU_TYPE_BED</a>, <a class="el" href="structRtuRegInfo.html#a11bec18706037da6d0d8893a3f6ecc8c">RtuRegInfo::rtuadd</a>, <a class="el" href="structExNativeRtu.html#a880cf200ec393f75b6a72b3a47b8af88">ExNativeRtu::rtuinfo</a>, and <a class="el" href="structRelayInfo.html#a4dc7bba5c5dd2ee1ff7172bae972936f">RelayInfo::val</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a81cfc05e7763f268740f8a27f85b77de_cgraph.png" border="0" usemap="#dbbase_8cpp_a81cfc05e7763f268740f8a27f85b77de_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a81cfc05e7763f268740f8a27f85b77de_cgraph" id="dbbase_8cpp_a81cfc05e7763f268740f8a27f85b77de_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb" title="db_update_query 更新查询" alt="" coords="209,5,329,35"/><area shape="rect" id="node7" href="dbbase_8cpp.html#af89ddd8c208010e4477750f84849f9bf" title="get_table_name 根据设备类型 拿到对应的表名" alt="" coords="212,59,327,88"/><area shape="rect" id="node5" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="380,5,489,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a82757fe4298d8fdf297391a4e42e3293"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_db_host </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structHostRegInfo.html">HostRegInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>hostinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update_db_host 更新主机信息表 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hostinfo</td><td>更新信息： 传入 hostname ,hostip </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb">db_update_query()</a>, <a class="el" href="dbbase_8cpp.html#a7748ddce59655cc11534b75d5e0956d4">findHostname()</a>, <a class="el" href="base_8h.html#ab8a6e9d8a4bea9ec5f6583cd2a8af735">get_sys_time()</a>, <a class="el" href="dbbase_8cpp.html#af89ddd8c208010e4477750f84849f9bf">get_table_name()</a>, <a class="el" href="structHostRegInfo.html#ac2a4fc92c30a444b52fca1fd0589a027">HostRegInfo::hostip</a>, <a class="el" href="structHostRegInfo.html#abaad6f194144e79d59f3f50e7eb078af">HostRegInfo::hostname</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, and <a class="el" href="dbbase_8h.html#a95e59c426d2f33d0653e61e86998c1a1">RTU_TYPE_HOST</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a82757fe4298d8fdf297391a4e42e3293_cgraph.png" border="0" usemap="#dbbase_8cpp_a82757fe4298d8fdf297391a4e42e3293_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a82757fe4298d8fdf297391a4e42e3293_cgraph" id="dbbase_8cpp_a82757fe4298d8fdf297391a4e42e3293_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb" title="db_update_query 更新查询" alt="" coords="169,5,289,35"/><area shape="rect" id="node7" href="dbbase_8cpp.html#a7748ddce59655cc11534b75d5e0956d4" title="findHostname 查找对应的主机名" alt="" coords="179,59,280,88"/><area shape="rect" id="node10" href="base_8h.html#ab8a6e9d8a4bea9ec5f6583cd2a8af735" title="get_sys_time" alt="" coords="180,112,279,141"/><area shape="rect" id="node12" href="dbbase_8cpp.html#af89ddd8c208010e4477750f84849f9bf" title="get_table_name 根据设备类型 拿到对应的表名" alt="" coords="172,165,287,195"/><area shape="rect" id="node5" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="340,32,449,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a5f38e8abcbb787b6fed1c8e1dce1c7c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_db_hostname </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structHostMan.html">HostMan</a> &amp;&#160;</td>
          <td class="paramname"><em>hostinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update_db_hostname 用户管理 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hostinfo</td><td>更新信息： 传入 原 新 主机名 密码 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a7f355040a91d1275a6ac9a9490025717">db_select_query()</a>, <a class="el" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb">db_update_query()</a>, <a class="el" href="dbbase_8h.html#ae9169c3fda2dfecbb7a13e394a69e5be">MAX_PASSWORD_LEN</a>, <a class="el" href="structHostMan.html#a51767ec848f109bccbddb87550ff88d9">HostMan::newname</a>, <a class="el" href="structHostMan.html#a6f5cb28d8740dae24ee076d6cd2fb63e">HostMan::newpwd</a>, <a class="el" href="structHostMan.html#a1441529ae42ac0b02704431e41f5b5c3">HostMan::oldname</a>, and <a class="el" href="structHostMan.html#a94f32dd3715b3069fa469ca3ea5ea1e7">HostMan::oldpwd</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a5f38e8abcbb787b6fed1c8e1dce1c7c2_cgraph.png" border="0" usemap="#dbbase_8cpp_a5f38e8abcbb787b6fed1c8e1dce1c7c2_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a5f38e8abcbb787b6fed1c8e1dce1c7c2_cgraph" id="dbbase_8cpp_a5f38e8abcbb787b6fed1c8e1dce1c7c2_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a7f355040a91d1275a6ac9a9490025717" title="db_select_query 查找操作" alt="" coords="200,7,317,36"/><area shape="rect" id="node9" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb" title="db_update_query 更新查询" alt="" coords="367,59,487,88"/><area shape="rect" id="node5" href="dbbase_8cpp.html#acdefe48f4a7a750062898c54c5ecd356" title="select_query 查找操作" alt="" coords="379,5,475,35"/><area shape="rect" id="node7" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="537,32,647,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a83758c046728190fe1ac0a9eef34285b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_db_nativertu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structNativeRtuInfo.html">NativeRtuInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>rtuinfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="base_8h.html#af84840501dec18061d18a68c162a8fa2">Uint8</a>&#160;</td>
          <td class="paramname"><em>mode</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update_db_nativertu 常规设备更新 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtuinfo</td><td></td></tr>
    <tr><td class="paramname">mode</td><td>模式 0 控制 1 绑定负载 控制 ： 传入 <a class="el" href="structRelayInfo.html">RelayInfo</a> 数组中 val 绑定负载： 传入 bind_num , <a class="el" href="structRelayInfo.html">RelayInfo</a> 数组中 id,type,name[] ,path[] 设备头信息 <a class="el" href="structRtuRegInfo.html">RtuRegInfo</a> 中的hostadd,rtuadd 必须传入 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 更新成功 -1 更新失败 </dd></dl>

<p>References <a class="el" href="structNativeRtuInfo.html#ae673b07d8c87e05626830f4e1b813f99">NativeRtuInfo::bind_num</a>, <a class="el" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb">db_update_query()</a>, <a class="el" href="structRtuRegInfo.html#a3a9169b06ae6cdef4716b9ce96e2effb">RtuRegInfo::hostadd</a>, <a class="el" href="structRelayInfo.html#a664b6fde886aa5ec22584d57805989ba">RelayInfo::id</a>, <a class="el" href="base_8h.html#a1f953b078595aed0c003eda86c62bde2">LOG_DEBUG</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, <a class="el" href="structRelayInfo.html#a560c82273099e57eee9c873de36ec4d9">RelayInfo::name</a>, <a class="el" href="structRelayInfo.html#a9135480956d928283d45f91635aeefa1">RelayInfo::path</a>, <a class="el" href="structNativeRtuInfo.html#ad9f9b53a53485f4e89e85dbc510348b6">NativeRtuInfo::relayinfo</a>, <a class="el" href="structRtuRegInfo.html#a11bec18706037da6d0d8893a3f6ecc8c">RtuRegInfo::rtuadd</a>, <a class="el" href="structNativeRtuInfo.html#aadeca7477bda9a54e67e8b6409998197">NativeRtuInfo::rtuinfo</a>, <a class="el" href="structRelayInfo.html#a1f47e160c39504214a046234af05ff26">RelayInfo::type</a>, and <a class="el" href="structRelayInfo.html#a4dc7bba5c5dd2ee1ff7172bae972936f">RelayInfo::val</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a83758c046728190fe1ac0a9eef34285b_cgraph.png" border="0" usemap="#dbbase_8cpp_a83758c046728190fe1ac0a9eef34285b_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a83758c046728190fe1ac0a9eef34285b_cgraph" id="dbbase_8cpp_a83758c046728190fe1ac0a9eef34285b_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb" title="db_update_query 更新查询" alt="" coords="193,5,313,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="364,5,473,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ad42e211ca6c04241e68331f73c74113c"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_db_rtuinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structRtuUpdate.html">RtuUpdate</a> &amp;&#160;</td>
          <td class="paramname"><em>hostinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update_db_rtuinfo 用户设备信息编辑 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">hostinfo</td><td>该结构体所有字段必须传入 更新 设备名称和路径 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb">db_update_query()</a>, <a class="el" href="dbbase_8cpp.html#af89ddd8c208010e4477750f84849f9bf">get_table_name()</a>, <a class="el" href="structRtuUpdate.html#afd4ba90eecfa8e68b0d0acd6f287b7e8">RtuUpdate::hostadd</a>, <a class="el" href="dbbase_8cpp.html#a55f5cb081a0fc3774070718f283746d6">IsNativeRtu()</a>, <a class="el" href="structRtuUpdate.html#ad0145b3406a72cf9cc8182f864ba35c6">RtuUpdate::opertype</a>, <a class="el" href="dbbase_8h.html#af2fd88a1eb8ff4c2bffbb73639b393d5">RTU_TYPE_BED</a>, <a class="el" href="dbbase_8h.html#a5b85ab36fa49bdaa0e0aba8ef2c49e81">RTU_TYPE_SCENEINFO</a>, <a class="el" href="dbbase_8h.html#acd85ffd783088af534e8a3f285f1a787">RTU_TYPE_TASKINFO</a>, <a class="el" href="structRtuUpdate.html#ac51fcd3ef3155b62e54803717d3c86d9">RtuUpdate::rtuadd</a>, <a class="el" href="structRtuUpdate.html#a2aa61860c8ea0790ffe6f3e2982757a9">RtuUpdate::rtuname</a>, <a class="el" href="structRtuUpdate.html#a4ff110213c266f79e9ce2fd0fd60c0f1">RtuUpdate::rtupath</a>, and <a class="el" href="structRtuUpdate.html#a6306c766261ee5d3a1ddf6e3fd950c86">RtuUpdate::rtutype</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_ad42e211ca6c04241e68331f73c74113c_cgraph.png" border="0" usemap="#dbbase_8cpp_ad42e211ca6c04241e68331f73c74113c_cgraph" alt=""/></div>
<map name="dbbase_8cpp_ad42e211ca6c04241e68331f73c74113c_cgraph" id="dbbase_8cpp_ad42e211ca6c04241e68331f73c74113c_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb" title="db_update_query 更新查询" alt="" coords="180,5,300,35"/><area shape="rect" id="node7" href="dbbase_8cpp.html#af89ddd8c208010e4477750f84849f9bf" title="get_table_name 根据设备类型 拿到对应的表名" alt="" coords="183,59,297,88"/><area shape="rect" id="node9" href="dbbase_8cpp.html#a55f5cb081a0fc3774070718f283746d6" title="IsNativeRtu 查看某设备是否是常规设备" alt="" coords="195,112,285,141"/><area shape="rect" id="node5" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="351,5,460,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="afe8cc79a0b360aa2a371f266709451e8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_db_safetypwd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSafetyPwdInfo.html">SafetyPwdInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>rtuinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update_db_safetypwd 门锁密码更新接口 包括新开锁密码添加，修改 管理员密码修改 </p>

<p>References <a class="el" href="dbbase_8cpp.html#a7f355040a91d1275a6ac9a9490025717">db_select_query()</a>, <a class="el" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb">db_update_query()</a>, <a class="el" href="structSafetyPwdInfo.html#a8a63934b72944509aa82673a927cfc71">SafetyPwdInfo::hostadd</a>, <a class="el" href="structSafetyPwdInfo.html#a8938447ca6c73166e69798de5cca1547">SafetyPwdInfo::id</a>, <a class="el" href="base_8h.html#ac8bab6bccfa5a1766f88032f6b8485f1">LOG_ERROR</a>, <a class="el" href="dbbase_8h.html#ae9169c3fda2dfecbb7a13e394a69e5be">MAX_PASSWORD_LEN</a>, <a class="el" href="structSafetyPwdInfo.html#a1fec5794b06d5a0f401593930d7254b5">SafetyPwdInfo::newpwd</a>, <a class="el" href="structSafetyPwdInfo.html#a0f10f1bb0eca709fc945b4aff9bbe262">SafetyPwdInfo::oldpwd</a>, and <a class="el" href="structSafetyPwdInfo.html#a4ac6a0e4ac9b9b19a2c8d5f1b47b822c">SafetyPwdInfo::rtuadd</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_afe8cc79a0b360aa2a371f266709451e8_cgraph.png" border="0" usemap="#dbbase_8cpp_afe8cc79a0b360aa2a371f266709451e8_cgraph" alt=""/></div>
<map name="dbbase_8cpp_afe8cc79a0b360aa2a371f266709451e8_cgraph" id="dbbase_8cpp_afe8cc79a0b360aa2a371f266709451e8_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a7f355040a91d1275a6ac9a9490025717" title="db_select_query 查找操作" alt="" coords="203,7,320,36"/><area shape="rect" id="node9" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb" title="db_update_query 更新查询" alt="" coords="369,59,489,88"/><area shape="rect" id="node5" href="dbbase_8cpp.html#acdefe48f4a7a750062898c54c5ecd356" title="select_query 查找操作" alt="" coords="381,5,477,35"/><area shape="rect" id="node7" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="540,32,649,61"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="ae0e36aa1334e0b83d2e2edd95a89b5b2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_db_safetyrtu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSafetyRtu.html">SafetyRtu</a> &amp;&#160;</td>
          <td class="paramname"><em>rtuinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update_db_safetyrtu 更新安防设备 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtuinfo</td><td>控制： 传入 布防状态 ， 动作状态 hostadd ,rtuadd 必须 传入 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb">db_update_query()</a>, <a class="el" href="dbbase_8cpp.html#af89ddd8c208010e4477750f84849f9bf">get_table_name()</a>, <a class="el" href="structRtuRegInfo.html#a3a9169b06ae6cdef4716b9ce96e2effb">RtuRegInfo::hostadd</a>, <a class="el" href="structSafetyRtu.html#a43fd8e2a562fea9a6ea5a7fe57fec7af">SafetyRtu::rtuactstate</a>, <a class="el" href="structRtuRegInfo.html#a11bec18706037da6d0d8893a3f6ecc8c">RtuRegInfo::rtuadd</a>, <a class="el" href="structSafetyRtu.html#a961d9d1c9a8c9082f6cd8bcc8b3292a4">SafetyRtu::rtuinfo</a>, <a class="el" href="structSafetyRtu.html#aa857a3b46e71c67a4d9c7bb83e34ffc0">SafetyRtu::rtuplace</a>, and <a class="el" href="structRtuRegInfo.html#ac8d17922e46094960fb8c88d9ad370c5">RtuRegInfo::rtutype</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_ae0e36aa1334e0b83d2e2edd95a89b5b2_cgraph.png" border="0" usemap="#dbbase_8cpp_ae0e36aa1334e0b83d2e2edd95a89b5b2_cgraph" alt=""/></div>
<map name="dbbase_8cpp_ae0e36aa1334e0b83d2e2edd95a89b5b2_cgraph" id="dbbase_8cpp_ae0e36aa1334e0b83d2e2edd95a89b5b2_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb" title="db_update_query 更新查询" alt="" coords="196,5,316,35"/><area shape="rect" id="node7" href="dbbase_8cpp.html#af89ddd8c208010e4477750f84849f9bf" title="get_table_name 根据设备类型 拿到对应的表名" alt="" coords="199,59,313,88"/><area shape="rect" id="node5" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="367,5,476,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aedbae4394a0f4e1fc8f6eabee7e355c2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_db_sceneinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSceneInfo.html">SceneInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>rtuinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update_db_sceneinfo 修改 情景 </p>

<p>References <a class="el" href="dbbase_8cpp.html#ad9cd8d3ab8c7385eceb3280b5f910b2a">insert_db_sceneinfo()</a>.</p>

<p>Referenced by <a class="el" href="sql_8cpp.html#abf9e6b7e6f15df4b525a2e7705ba3089">main()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_aedbae4394a0f4e1fc8f6eabee7e355c2_cgraph.png" border="0" usemap="#dbbase_8cpp_aedbae4394a0f4e1fc8f6eabee7e355c2_cgraph" alt=""/></div>
<map name="dbbase_8cpp_aedbae4394a0f4e1fc8f6eabee7e355c2_cgraph" id="dbbase_8cpp_aedbae4394a0f4e1fc8f6eabee7e355c2_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#ad9cd8d3ab8c7385eceb3280b5f910b2a" title="insert_db_sceneinfo 创建、修改情景" alt="" coords="200,5,339,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#ac9d1db67754ebd6ac53cd4ce185a22cd" title="DupicateKeyUpdateQuery 更新、插入查询：存在则更新不存在则插入" alt="" coords="388,5,561,35"/><area shape="rect" id="node7" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="612,5,721,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_aedbae4394a0f4e1fc8f6eabee7e355c2_icgraph.png" border="0" usemap="#dbbase_8cpp_aedbae4394a0f4e1fc8f6eabee7e355c2_icgraph" alt=""/></div>
<map name="dbbase_8cpp_aedbae4394a0f4e1fc8f6eabee7e355c2_icgraph" id="dbbase_8cpp_aedbae4394a0f4e1fc8f6eabee7e355c2_icgraph">
<area shape="rect" id="node3" href="sql_8cpp.html#abf9e6b7e6f15df4b525a2e7705ba3089" title="main" alt="" coords="200,5,251,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="aae594d8934a37c3a973e31432cd76c96"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_db_scenertu </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structSceneRtu.html">SceneRtu</a> &amp;&#160;</td>
          <td class="paramname"><em>rtuinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update_db_scenertu 更新情景面板 </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">rtuinfo</td><td>修改绑定： bind_num , 每个button的信息 ，包括id ,type,add,oper </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd></dd></dl>

<p>References <a class="el" href="structSceneBind.html#aa2d7e582a6ef1f73b685bd86a3a83ab2">SceneBind::add</a>, <a class="el" href="structSceneRtu.html#aa094ff659f108ee77a08b35bcba85bb6">SceneRtu::bind_num</a>, <a class="el" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb">db_update_query()</a>, <a class="el" href="structRtuRegInfo.html#a3a9169b06ae6cdef4716b9ce96e2effb">RtuRegInfo::hostadd</a>, <a class="el" href="structSceneBind.html#a92e50caa085d61d80804f44eef26c240">SceneBind::id</a>, <a class="el" href="structSceneBind.html#abf48651d36a041e163a0c1ecac190288">SceneBind::oper</a>, <a class="el" href="structRtuRegInfo.html#a11bec18706037da6d0d8893a3f6ecc8c">RtuRegInfo::rtuadd</a>, <a class="el" href="structSceneRtu.html#a8850884f48b4d42495efce8ba6cdab7b">SceneRtu::rtuinfo</a>, <a class="el" href="structSceneRtu.html#a308c1e20b977bbfcf203751cecac8e2f">SceneRtu::scene_bind</a>, and <a class="el" href="structSceneBind.html#a3d49ad98d2ccb1be6cf4f55be61b0390">SceneBind::type</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_aae594d8934a37c3a973e31432cd76c96_cgraph.png" border="0" usemap="#dbbase_8cpp_aae594d8934a37c3a973e31432cd76c96_cgraph" alt=""/></div>
<map name="dbbase_8cpp_aae594d8934a37c3a973e31432cd76c96_cgraph" id="dbbase_8cpp_aae594d8934a37c3a973e31432cd76c96_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb" title="db_update_query 更新查询" alt="" coords="193,5,313,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="364,5,473,35"/></map>
</div>
</p>

</div>
</div>
<a class="anchor" id="a659d4acf9f3d7a1b013867717905c198"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int update_db_taskinfo </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structTaskInfo.html">TaskInfo</a> &amp;&#160;</td>
          <td class="paramname"><em>taskinfo</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>update_db_taskinfo 编辑定时任务 </p>

<p>References <a class="el" href="dbbase_8cpp.html#a0eb771b638f26a87a9cce0c7de472f0f">insert_db_taskinfo()</a>.</p>

<p>Referenced by <a class="el" href="sql_8cpp.html#abf9e6b7e6f15df4b525a2e7705ba3089">main()</a>.</p>

<p><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a659d4acf9f3d7a1b013867717905c198_cgraph.png" border="0" usemap="#dbbase_8cpp_a659d4acf9f3d7a1b013867717905c198_cgraph" alt=""/></div>
<map name="dbbase_8cpp_a659d4acf9f3d7a1b013867717905c198_cgraph" id="dbbase_8cpp_a659d4acf9f3d7a1b013867717905c198_cgraph">
<area shape="rect" id="node3" href="dbbase_8cpp.html#a0eb771b638f26a87a9cce0c7de472f0f" title="insert_db_taskinfo 设置 编辑定时任务" alt="" coords="189,5,317,35"/><area shape="rect" id="node5" href="dbbase_8cpp.html#ac9d1db67754ebd6ac53cd4ce185a22cd" title="DupicateKeyUpdateQuery 更新、插入查询：存在则更新不存在则插入" alt="" coords="367,5,540,35"/><area shape="rect" id="node7" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6" title="check_connect 检查连接" alt="" coords="591,5,700,35"/></map>
</div>
</p>

<p><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="dbbase_8cpp_a659d4acf9f3d7a1b013867717905c198_icgraph.png" border="0" usemap="#dbbase_8cpp_a659d4acf9f3d7a1b013867717905c198_icgraph" alt=""/></div>
<map name="dbbase_8cpp_a659d4acf9f3d7a1b013867717905c198_icgraph" id="dbbase_8cpp_a659d4acf9f3d7a1b013867717905c198_icgraph">
<area shape="rect" id="node3" href="sql_8cpp.html#abf9e6b7e6f15df4b525a2e7705ba3089" title="main" alt="" coords="189,5,240,35"/></map>
</div>
</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a513b454acfc51fb3100e5a8ad0535b50"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">MYSQL m_mysqlfd</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>数据库连接描述符 </p>

<p>Referenced by <a class="el" href="dbbase_8cpp.html#a45f3ac6076b939b77778a8d8a2aebde6">check_connect()</a>, <a class="el" href="dbbase_8cpp.html#a09e73ba1c0460f0f548fffa8f8aa8ebb">db_update_query()</a>, <a class="el" href="dbbase_8h.html#a91ce6d4931baf0cca718619888e1412d">delete_db_host()</a>, <a class="el" href="dbbase_8h.html#adfa21954b5a414041dffb59dd549dcb8">delete_db_rtu()</a>, <a class="el" href="dbbase_8cpp.html#ac9d1db67754ebd6ac53cd4ce185a22cd">DupicateKeyUpdateQuery()</a>, <a class="el" href="dbbase_8h.html#a7748ddce59655cc11534b75d5e0956d4">findHostname()</a>, <a class="el" href="dbbase_8cpp.html#aec7bbc2b50281d325bd7e99661ef5c60">findRtuadd()</a>, <a class="el" href="dbbase_8h.html#a45ba5638ae09b4ccca4dbe1bdb6bf89a">GetHostCount()</a>, <a class="el" href="dbbase_8h.html#a645417f4347afad166d95e919bf778de">GetHostIdByName()</a>, <a class="el" href="dbbase_8h.html#aa1165b8a3c5a7d095576c678f94268f3">GetIpByHostAdd()</a>, <a class="el" href="dbbase_8h.html#affefb171c935f2ae5832d0ca8091798f">init_mysql()</a>, <a class="el" href="dbbase_8h.html#a21f3b1ac4424fa0839c3182b0ab7cbd8">insert_db_rtu()</a>, <a class="el" href="dbbase_8cpp.html#afe0ea3530d4cbbbf870292d37df7ac9e">insert_mysql()</a>, and <a class="el" href="dbbase_8cpp.html#acdefe48f4a7a750062898c54c5ecd356">select_query()</a>.</p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat May 21 2016 13:55:41 for My Project by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.2
</small></address>
</body>
</html>
